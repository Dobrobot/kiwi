/* A recursive-descent parser generated by peg 0.1.18 */

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define YYRULECOUNT 133
#line 2 "src/syntax.leg"

#include "bstrlib.h"
#include "list.h"
#include "content.h"
#include "kiwi.h"
#include "io.h"
#include "parse.h"
#include "stack.h"

#define YY_noDEBUG 1
#define YY_INPUT(buf, result, max_size) handle_input(buf, &result, max_size)

#define RUN_ACTION(name) name(yyleng, yytext)

#ifndef YY_MALLOC
#define YY_MALLOC(C, N)		malloc(N)
#endif
#ifndef YY_REALLOC
#define YY_REALLOC(C, P, N)	realloc(P, N)
#endif
#ifndef YY_FREE
#define YY_FREE(C, P)		free(P)
#endif
#ifndef YY_LOCAL
#define YY_LOCAL(T)	static T
#endif
#ifndef YY_ACTION
#define YY_ACTION(T)	static T
#endif
#ifndef YY_RULE
#define YY_RULE(T)	static T
#endif
#ifndef YY_PARSE
#define YY_PARSE(T)	T
#endif
#ifndef YYPARSE
#define YYPARSE		yyparse
#endif
#ifndef YYPARSEFROM
#define YYPARSEFROM	yyparsefrom
#endif
#ifndef YYRELEASE
#define YYRELEASE	yyrelease
#endif
#ifndef YY_BEGIN
#define YY_BEGIN	( yy->__begin= yy->__pos, 1)
#endif
#ifndef YY_END
#define YY_END		( yy->__end= yy->__pos, 1)
#endif
#ifdef YY_DEBUG
# define yyprintf(args)	fprintf args
#else
# define yyprintf(args)
#endif
#ifndef YYSTYPE
#define YYSTYPE	int
#endif
#ifndef YY_STACK_SIZE
#define YY_STACK_SIZE 128
#endif

#ifndef YY_BUFFER_SIZE
#define YY_BUFFER_SIZE 1024
#endif

#ifndef YY_PART

typedef struct _yycontext yycontext;
typedef void (*yyaction)(yycontext *yy, char *yytext, int yyleng);
typedef struct _yythunk { int begin, end;  yyaction  action;  struct _yythunk *next; } yythunk;

struct _yycontext {
  char     *__buf;
  int       __buflen;
  int       __pos;
  int       __limit;
  char     *__text;
  int       __textlen;
  int       __begin;
  int       __end;
  int       __textmax;
  yythunk  *__thunks;
  int       __thunkslen;
  int       __thunkpos;
  YYSTYPE   __;
  YYSTYPE  *__val;
  YYSTYPE  *__vals;
  int       __valslen;
#ifdef YY_CTX_MEMBERS
  YY_CTX_MEMBERS
#endif
};

#ifdef YY_CTX_LOCAL
#define YY_CTX_PARAM_	yycontext *yyctx,
#define YY_CTX_PARAM	yycontext *yyctx
#define YY_CTX_ARG_	yyctx,
#define YY_CTX_ARG	yyctx
#ifndef YY_INPUT
#define YY_INPUT(yy, buf, result, max_size)		\
  {							\
    int yyc= getchar();					\
    result= (EOF == yyc) ? 0 : (*(buf)= yyc, 1);	\
    yyprintf((stderr, "<%c>", yyc));			\
  }
#endif
#else
#define YY_CTX_PARAM_
#define YY_CTX_PARAM
#define YY_CTX_ARG_
#define YY_CTX_ARG
yycontext _yyctx= { 0, 0 };
yycontext *yyctx= &_yyctx;
#ifndef YY_INPUT
#define YY_INPUT(buf, result, max_size)			\
  {							\
    int yyc= getchar();					\
    result= (EOF == yyc) ? 0 : (*(buf)= yyc, 1);	\
    yyprintf((stderr, "<%c>", yyc));			\
  }
#endif
#endif

YY_LOCAL(int) yyrefill(yycontext *yy)
{
  int yyn;
  while (yy->__buflen - yy->__pos < 512)
    {
      yy->__buflen *= 2;
      yy->__buf= (char *)YY_REALLOC(yy, yy->__buf, yy->__buflen);
    }
#ifdef YY_CTX_LOCAL
  YY_INPUT(yy, (yy->__buf + yy->__pos), yyn, (yy->__buflen - yy->__pos));
#else
  YY_INPUT((yy->__buf + yy->__pos), yyn, (yy->__buflen - yy->__pos));
#endif
  if (!yyn) return 0;
  yy->__limit += yyn;
  return 1;
}

YY_LOCAL(int) yymatchDot(yycontext *yy)
{
  if (yy->__pos >= yy->__limit && !yyrefill(yy)) return 0;
  ++yy->__pos;
  return 1;
}

YY_LOCAL(int) yymatchChar(yycontext *yy, int c)
{
  if (yy->__pos >= yy->__limit && !yyrefill(yy)) return 0;
  if ((unsigned char)yy->__buf[yy->__pos] == c)
    {
      ++yy->__pos;
      yyprintf((stderr, "  ok   yymatchChar(yy, %c) @ %s\n", c, yy->__buf+yy->__pos));
      return 1;
    }
  yyprintf((stderr, "  fail yymatchChar(yy, %c) @ %s\n", c, yy->__buf+yy->__pos));
  return 0;
}

YY_LOCAL(int) yymatchString(yycontext *yy, const char *s)
{
  int yysav= yy->__pos;
  while (*s)
    {
      if (yy->__pos >= yy->__limit && !yyrefill(yy)) return 0;
      if (yy->__buf[yy->__pos] != *s)
        {
          yy->__pos= yysav;
          return 0;
        }
      ++s;
      ++yy->__pos;
    }
  return 1;
}

YY_LOCAL(int) yymatchClass(yycontext *yy, unsigned char *bits)
{
  int c;
  if (yy->__pos >= yy->__limit && !yyrefill(yy)) return 0;
  c= (unsigned char)yy->__buf[yy->__pos];
  if (bits[c >> 3] & (1 << (c & 7)))
    {
      ++yy->__pos;
      yyprintf((stderr, "  ok   yymatchClass @ %s\n", yy->__buf+yy->__pos));
      return 1;
    }
  yyprintf((stderr, "  fail yymatchClass @ %s\n", yy->__buf+yy->__pos));
  return 0;
}

YY_LOCAL(void) yyDo(yycontext *yy, yyaction action, int begin, int end)
{
  while (yy->__thunkpos >= yy->__thunkslen)
    {
      yy->__thunkslen *= 2;
      yy->__thunks= (yythunk *)YY_REALLOC(yy, yy->__thunks, sizeof(yythunk) * yy->__thunkslen);
    }
  yy->__thunks[yy->__thunkpos].begin=  begin;
  yy->__thunks[yy->__thunkpos].end=    end;
  yy->__thunks[yy->__thunkpos].action= action;
  ++yy->__thunkpos;
}

YY_LOCAL(int) yyText(yycontext *yy, int begin, int end)
{
  int yyleng= end - begin;
  if (yyleng <= 0)
    yyleng= 0;
  else
    {
      while (yy->__textlen < (yyleng + 1))
	{
	  yy->__textlen *= 2;
	  yy->__text= (char *)YY_REALLOC(yy, yy->__text, yy->__textlen);
	}
      memcpy(yy->__text, yy->__buf + begin, yyleng);
    }
  yy->__text[yyleng]= '\0';
  return yyleng;
}

YY_LOCAL(void) yyDone(yycontext *yy)
{
  int pos;
  for (pos= 0;  pos < yy->__thunkpos;  ++pos)
    {
      yythunk *thunk= &yy->__thunks[pos];
      int yyleng= thunk->end ? yyText(yy, thunk->begin, thunk->end) : thunk->begin;
      yyprintf((stderr, "DO [%d] %p %s\n", pos, thunk->action, yy->__text));
      thunk->action(yy, yy->__text, yyleng);
    }
  yy->__thunkpos= 0;
}

YY_LOCAL(void) yyCommit(yycontext *yy)
{
  if ((yy->__limit -= yy->__pos))
    {
      memmove(yy->__buf, yy->__buf + yy->__pos, yy->__limit);
    }
  yy->__begin -= yy->__pos;
  yy->__end -= yy->__pos;
  yy->__pos= yy->__thunkpos= 0;
}

YY_LOCAL(int) yyAccept(yycontext *yy, int tp0)
{
  if (tp0)
    {
      fprintf(stderr, "accept denied at %d\n", tp0);
      return 0;
    }
  else
    {
      yyDone(yy);
      yyCommit(yy);
    }
  return 1;
}

YY_LOCAL(void) yyPush(yycontext *yy, char *text, int count)
{
  yy->__val += count;
  while (yy->__valslen <= yy->__val - yy->__vals)
    {
      long offset= yy->__val - yy->__vals;
      yy->__valslen *= 2;
      yy->__vals= (YYSTYPE *)YY_REALLOC(yy, yy->__vals, sizeof(YYSTYPE) * yy->__valslen);
      yy->__val= yy->__vals + offset;
    }
}
YY_LOCAL(void) yyPop(yycontext *yy, char *text, int count)   { yy->__val -= count; }
YY_LOCAL(void) yySet(yycontext *yy, char *text, int count)   { yy->__val[count]= yy->__; }

#endif /* YY_PART */

#define	YYACCEPT	yyAccept(yy, yythunkpos0)

YY_RULE(int) yy_angle_right(yycontext *yy); /* 133 */
YY_RULE(int) yy_angle_left(yycontext *yy); /* 132 */
YY_RULE(int) yy_comment_close(yycontext *yy); /* 131 */
YY_RULE(int) yy_comment_open(yycontext *yy); /* 130 */
YY_RULE(int) yy_tag_attribute_value(yycontext *yy); /* 129 */
YY_RULE(int) yy_tag_attribute_name(yycontext *yy); /* 128 */
YY_RULE(int) yy_tag_junk(yycontext *yy); /* 127 */
YY_RULE(int) yy_tag_attribute(yycontext *yy); /* 126 */
YY_RULE(int) yy_tag_close_nocap(yycontext *yy); /* 125 */
YY_RULE(int) yy_tag_close(yycontext *yy); /* 124 */
YY_RULE(int) yy_tag_attributes_list(yycontext *yy); /* 123 */
YY_RULE(int) yy_tag(yycontext *yy); /* 122 */
YY_RULE(int) yy_tag_open(yycontext *yy); /* 121 */
YY_RULE(int) yy_forcetoc(yycontext *yy); /* 120 */
YY_RULE(int) yy_toc(yycontext *yy); /* 119 */
YY_RULE(int) yy_notoc(yycontext *yy); /* 118 */
YY_RULE(int) yy_noinclude_close(yycontext *yy); /* 117 */
YY_RULE(int) yy_noinclude_open(yycontext *yy); /* 116 */
YY_RULE(int) yy_template_nested_close(yycontext *yy); /* 115 */
YY_RULE(int) yy_template_nested_content(yycontext *yy); /* 114 */
YY_RULE(int) yy_template_nested_open(yycontext *yy); /* 113 */
YY_RULE(int) yy_template_nested(yycontext *yy); /* 112 */
YY_RULE(int) yy_template_close(yycontext *yy); /* 111 */
YY_RULE(int) yy_template_content(yycontext *yy); /* 110 */
YY_RULE(int) yy_template_name(yycontext *yy); /* 109 */
YY_RULE(int) yy_template_open(yycontext *yy); /* 108 */
YY_RULE(int) yy_simple_header(yycontext *yy); /* 107 */
YY_RULE(int) yy_complex_header(yycontext *yy); /* 106 */
YY_RULE(int) yy_inline_cell_open(yycontext *yy); /* 105 */
YY_RULE(int) yy_inline_cell_simple(yycontext *yy); /* 104 */
YY_RULE(int) yy_inline_cell_complex(yycontext *yy); /* 103 */
YY_RULE(int) yy_sol_cell_open(yycontext *yy); /* 102 */
YY_RULE(int) yy_sol_cell_simple(yycontext *yy); /* 101 */
YY_RULE(int) yy_sol_cell_complex(yycontext *yy); /* 100 */
YY_RULE(int) yy_cell_close(yycontext *yy); /* 99 */
YY_RULE(int) yy_cell_attribute_value(yycontext *yy); /* 98 */
YY_RULE(int) yy_cell_attribute_name(yycontext *yy); /* 97 */
YY_RULE(int) yy_cell_junk(yycontext *yy); /* 96 */
YY_RULE(int) yy_cell_attribute(yycontext *yy); /* 95 */
YY_RULE(int) yy_inline_cell(yycontext *yy); /* 94 */
YY_RULE(int) yy_sol_cell(yycontext *yy); /* 93 */
YY_RULE(int) yy_complex_row(yycontext *yy); /* 92 */
YY_RULE(int) yy_simple_row(yycontext *yy); /* 91 */
YY_RULE(int) yy_row_open(yycontext *yy); /* 90 */
YY_RULE(int) yy_table_cell(yycontext *yy); /* 89 */
YY_RULE(int) yy_cell_attribute_list(yycontext *yy); /* 88 */
YY_RULE(int) yy_table_delims(yycontext *yy); /* 87 */
YY_RULE(int) yy_table_specials(yycontext *yy); /* 86 */
YY_RULE(int) yy_table_close(yycontext *yy); /* 85 */
YY_RULE(int) yy_pseudo_row(yycontext *yy); /* 84 */
YY_RULE(int) yy_table_headers(yycontext *yy); /* 83 */
YY_RULE(int) yy_table_row(yycontext *yy); /* 82 */
YY_RULE(int) yy_table_caption(yycontext *yy); /* 81 */
YY_RULE(int) yy_table_open(yycontext *yy); /* 80 */
YY_RULE(int) yy_thumb(yycontext *yy); /* 79 */
YY_RULE(int) yy_frame(yycontext *yy); /* 78 */
YY_RULE(int) yy_image_size(yycontext *yy); /* 77 */
YY_RULE(int) yy_image_border(yycontext *yy); /* 76 */
YY_RULE(int) yy_image_link(yycontext *yy); /* 75 */
YY_RULE(int) yy_float(yycontext *yy); /* 74 */
YY_RULE(int) yy_image_type(yycontext *yy); /* 73 */
YY_RULE(int) yy_value(yycontext *yy); /* 72 */
YY_RULE(int) yy_generic_variable(yycontext *yy); /* 71 */
YY_RULE(int) yy_special_image_variables(yycontext *yy); /* 70 */
YY_RULE(int) yy_close_image(yycontext *yy); /* 69 */
YY_RULE(int) yy_image_caption(yycontext *yy); /* 68 */
YY_RULE(int) yy_arguments(yycontext *yy); /* 67 */
YY_RULE(int) yy_file_indicator(yycontext *yy); /* 66 */
YY_RULE(int) yy_open_image(yycontext *yy); /* 65 */
YY_RULE(int) yy_protocol(yycontext *yy); /* 64 */
YY_RULE(int) yy_close_named_link(yycontext *yy); /* 63 */
YY_RULE(int) yy_link_name(yycontext *yy); /* 62 */
YY_RULE(int) yy_link_url(yycontext *yy); /* 61 */
YY_RULE(int) yy_open_named_link(yycontext *yy); /* 60 */
YY_RULE(int) yy_url(yycontext *yy); /* 59 */
YY_RULE(int) yy_unnamed_link(yycontext *yy); /* 58 */
YY_RULE(int) yy_named_link(yycontext *yy); /* 57 */
YY_RULE(int) yy_blend(yycontext *yy); /* 56 */
YY_RULE(int) yy_link_close(yycontext *yy); /* 55 */
YY_RULE(int) yy_rename(yycontext *yy); /* 54 */
YY_RULE(int) yy_link_path(yycontext *yy); /* 53 */
YY_RULE(int) yy_namespace(yycontext *yy); /* 52 */
YY_RULE(int) yy_link_open(yycontext *yy); /* 51 */
YY_RULE(int) yy_external_link(yycontext *yy); /* 50 */
YY_RULE(int) yy_local_link(yycontext *yy); /* 49 */
YY_RULE(int) yy_html_code_close(yycontext *yy); /* 48 */
YY_RULE(int) yy_html_pre_close(yycontext *yy); /* 47 */
YY_RULE(int) yy_nowiki_close_tag(yycontext *yy); /* 46 */
YY_RULE(int) yy_html_code_open(yycontext *yy); /* 45 */
YY_RULE(int) yy_html_pre_open(yycontext *yy); /* 44 */
YY_RULE(int) yy_nowiki_open_tag(yycontext *yy); /* 43 */
YY_RULE(int) yy_nowiki_close(yycontext *yy); /* 42 */
YY_RULE(int) yy_nowiki_open(yycontext *yy); /* 41 */
YY_RULE(int) yy_pre_line(yycontext *yy); /* 40 */
YY_RULE(int) yy_italic(yycontext *yy); /* 39 */
YY_RULE(int) yy_bold(yycontext *yy); /* 38 */
YY_RULE(int) yy_bold_italic(yycontext *yy); /* 37 */
YY_RULE(int) yy_numbered(yycontext *yy); /* 36 */
YY_RULE(int) yy_numbered_list_entry(yycontext *yy); /* 35 */
YY_RULE(int) yy_definition(yycontext *yy); /* 34 */
YY_RULE(int) yy_definition_list_entry(yycontext *yy); /* 33 */
YY_RULE(int) yy_bullet(yycontext *yy); /* 32 */
YY_RULE(int) yy_bullet_list_entry(yycontext *yy); /* 31 */
YY_RULE(int) yy_list_text(yycontext *yy); /* 30 */
YY_RULE(int) yy_definition_list(yycontext *yy); /* 29 */
YY_RULE(int) yy_numbered_list(yycontext *yy); /* 28 */
YY_RULE(int) yy_bullet_list(yycontext *yy); /* 27 */
YY_RULE(int) yy_heading_text(yycontext *yy); /* 26 */
YY_RULE(int) yy_heading_marker(yycontext *yy); /* 25 */
YY_RULE(int) yy_space(yycontext *yy); /* 24 */
YY_RULE(int) yy_eof(yycontext *yy); /* 23 */
YY_RULE(int) yy_eol(yycontext *yy); /* 22 */
YY_RULE(int) yy_anything_else(yycontext *yy); /* 21 */
YY_RULE(int) yy_angle_brackets(yycontext *yy); /* 20 */
YY_RULE(int) yy_table(yycontext *yy); /* 19 */
YY_RULE(int) yy_link(yycontext *yy); /* 18 */
YY_RULE(int) yy_image(yycontext *yy); /* 17 */
YY_RULE(int) yy_formatting(yycontext *yy); /* 16 */
YY_RULE(int) yy_list(yycontext *yy); /* 15 */
YY_RULE(int) yy_heading(yycontext *yy); /* 14 */
YY_RULE(int) yy_template(yycontext *yy); /* 13 */
YY_RULE(int) yy_template_variable(yycontext *yy); /* 12 */
YY_RULE(int) yy_table_of_contents(yycontext *yy); /* 11 */
YY_RULE(int) yy_html(yycontext *yy); /* 10 */
YY_RULE(int) yy_comment(yycontext *yy); /* 9 */
YY_RULE(int) yy_noinclude(yycontext *yy); /* 8 */
YY_RULE(int) yy_nowiki(yycontext *yy); /* 7 */
YY_RULE(int) yy_horizontal_line(yycontext *yy); /* 6 */
YY_RULE(int) yy_paragraph(yycontext *yy); /* 5 */
YY_RULE(int) yy_wikitext(yycontext *yy); /* 4 */
YY_RULE(int) yy_wikitext_line(yycontext *yy); /* 3 */
YY_RULE(int) yy_pre_block(yycontext *yy); /* 2 */
YY_RULE(int) yy_page(yycontext *yy); /* 1 */

YY_ACTION(void) yy_1_anything_else(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_anything_else\n"));
  {
#line 230
   start_of_line = 0; append_to_tag_content("%s", yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_angle_right(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_angle_right\n"));
  {
#line 227
   bprintf("&gt;"); start_of_line = 0; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_angle_left(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_angle_left\n"));
  {
#line 226
   bprintf("&lt;"); start_of_line = 0; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_comment(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_comment\n"));
  {
#line 220
   bprintf("%s", yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_tag_close(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_tag_close\n"));
  {
#line 216
   RUN_ACTION(tag_close_action_1); start_of_line = 0; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_tag_attribute_value(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_tag_attribute_value\n"));
  {
#line 214
   RUN_ACTION(tag_attribute_value_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_tag_attribute_name(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_tag_attribute_name\n"));
  {
#line 213
   RUN_ACTION(tag_attribute_name_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_tag(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_tag\n"));
  {
#line 210
   RUN_ACTION(tag_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_tag_open(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_tag_open\n"));
  {
#line 209
   init_tag_vars(); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_toc(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_toc\n"));
  {
#line 205
   toc_attributes |= TOC_RELOC; bprintf("__TOC__"); // pass-through for later ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_forcetoc(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_forcetoc\n"));
  {
#line 204
   toc_attributes |= TOC_FORCETOC; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_notoc(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_notoc\n"));
  {
#line 203
   toc_attributes |= TOC_NOTOC; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_noinclude_close(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_noinclude_close\n"));
  {
#line 199
   template_noinclude = 0; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_noinclude_open(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_noinclude_open\n"));
  {
#line 198
   template_noinclude = 1; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_template_variable(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_template_variable\n"));
  {
#line 192
   bprintf("%s", yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_template_close(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_template_close\n"));
  {
#line 191
   RUN_ACTION(template_close_action_1); start_of_line = 0; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_template_content(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_template_content\n"));
  {
#line 190
   RUN_ACTION(template_content_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_template_name(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_template_name\n"));
  {
#line 189
   RUN_ACTION(template_name_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_template_open(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_template_open\n"));
  {
#line 188
   kw_list_append_new(&template_list); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_simple_header(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_simple_header\n"));
  {
#line 184
   bprintf("</th>");;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_simple_header(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_simple_header\n"));
  {
#line 183
   bprintf("<th>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_3_complex_header(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_3_complex_header\n"));
  {
#line 181
   bprintf("</th>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_complex_header(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_complex_header\n"));
  {
#line 180
   RUN_ACTION(complex_header_action_2); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_complex_header(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_complex_header\n"));
  {
#line 179
   RUN_ACTION(complex_header_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_table_headers(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_table_headers\n"));
  {
#line 178
   if(!tr_found) bprintf("</tr>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_table_headers(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_table_headers\n"));
  {
#line 177
   if(!tr_found) bprintf("<tr>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_inline_cell_simple(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_inline_cell_simple\n"));
  {
#line 172
   brtrimws(output_buffer); bprintf("</td>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_inline_cell_simple(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_inline_cell_simple\n"));
  {
#line 171
   bprintf(">"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_inline_cell_complex(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_inline_cell_complex\n"));
  {
#line 170
   RUN_ACTION(cell_close_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_inline_cell_open(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_inline_cell_open\n"));
  {
#line 168
   RUN_ACTION(inline_cell_open_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_sol_cell_simple(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_sol_cell_simple\n"));
  {
#line 164
   RUN_ACTION(cell_close_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_sol_cell_simple(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_sol_cell_simple\n"));
  {
#line 163
   bprintf(">"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_sol_cell_complex(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_sol_cell_complex\n"));
  {
#line 162
   RUN_ACTION(cell_close_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_sol_cell_open(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_sol_cell_open\n"));
  {
#line 160
   RUN_ACTION(sol_cell_open_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_cell_attribute_value(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_cell_attribute_value\n"));
  {
#line 154
   RUN_ACTION(cell_attribute_value_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_cell_attribute_name(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_cell_attribute_name\n"));
  {
#line 153
   RUN_ACTION(cell_attribute_name_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_cell_attribute_list(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_cell_attribute_list\n"));
  {
#line 151
   RUN_ACTION(cell_attribute_list_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_complex_row(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_complex_row\n"));
  {
#line 147
   bprintf("</tr>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_complex_row(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_complex_row\n"));
  {
#line 146
   bprintf(" %s>", yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_simple_row(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_simple_row\n"));
  {
#line 145
   bprintf("</tr>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_simple_row(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_simple_row\n"));
  {
#line 144
   bprintf(">"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_row_open(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_row_open\n"));
  {
#line 143
   tr_found = 1; bprintf("<tr");  ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_pseudo_row(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_pseudo_row\n"));
  {
#line 141
   bprintf("</tr>\n"); /* Rows with no |- declaration first */ ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_pseudo_row(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_pseudo_row\n"));
  {
#line 140
   bprintf("<tr>\n"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_3_table_caption(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_3_table_caption\n"));
  {
#line 137
   RUN_ACTION(table_caption_action_3); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_table_caption(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_table_caption\n"));
  {
#line 136
   RUN_ACTION(table_caption_action_2); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_table_caption(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_table_caption\n"));
  {
#line 135
   RUN_ACTION(table_caption_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_table_open(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_table_open\n"));
  {
#line 132
   RUN_ACTION(table_open_action_2); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_table_open(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_table_open\n"));
  {
#line 131
   RUN_ACTION(table_open_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_table(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_table\n"));
  {
#line 128
   brtrimws(output_buffer); bprintf("</table>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_image_caption(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_image_caption\n"));
  {
#line 125
   RUN_ACTION(image_caption_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_value(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_value\n"));
  {
#line 124
   bformata(image_variables, "=\"%s\"", yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_generic_variable(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_generic_variable\n"));
  {
#line 123
   bformata(image_variables, "%s", yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_image_border(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_image_border\n"));
  {
#line 122
   image_attributes |= IMAGE_BORDER; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_image_link(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_image_link\n"));
  {
#line 121
   RUN_ACTION(image_link_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_float(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_float\n"));
  {
#line 119
   bformata(image_variables, " class=\"float%s\"", yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_image_size(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_image_size\n"));
  {
#line 118
   bassigncstr(image_size, yytext); image_attributes |= IMAGE_SIZE; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_thumb(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_thumb\n"));
  {
#line 117
   image_attributes |= IMAGE_THUMB; image_attributes |= IMAGE_FRAME; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_frame(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_frame\n"));
  {
#line 116
   image_attributes |= IMAGE_FRAME; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_file_indicator(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_file_indicator\n"));
  {
#line 112
   bassignformat(image_url, "%s", yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_image(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_image\n"));
  {
#line 107
   RUN_ACTION(image_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_image(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_image\n"));
  {
#line 107
   btrunc(image_variables, 0); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_protocol(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_protocol\n"));
  {
#line 102
   strcpy(protocol, yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_url(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_url\n"));
  {
#line 101
   append_to_tag_content("<a href=\"%s://%s\">%s://%s</a>", protocol, yytext, protocol, yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_unnamed_link(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_unnamed_link\n"));
  {
#line 100
   append_to_tag_content("<a href=\"%s\">%s</a>", yytext, yytext);;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_link_name(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_link_name\n"));
  {
#line 98
   append_to_tag_content("%s", yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_link_url(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_link_url\n"));
  {
#line 97
   append_to_tag_content("%s", yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_close_named_link(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_close_named_link\n"));
  {
#line 95
   append_to_tag_content("</a>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_open_named_link(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_open_named_link\n"));
  {
#line 94
   append_to_tag_content("<a href=\""); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_named_link(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_named_link\n"));
  {
#line 92
   append_to_tag_content("\">");;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_blend(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_blend\n"));
  {
#line 89
   bcatcstr(link_text, yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_rename(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_rename\n"));
  {
#line 88
   btrunc(link_text, 0); bcatcstr(link_text, yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_link_path(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_link_path\n"));
  {
#line 87
   bcatcstr(link_path, yytext); bcatcstr(link_text, yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_namespace(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_namespace\n"));
  {
#line 86
   bformata(link_path, "%s:", yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_local_link(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_local_link\n"));
  {
#line 85
   RUN_ACTION(local_link_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_link(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_link\n"));
  {
#line 84
   start_of_line = 0; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_html_code_close(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_html_code_close\n"));
  {
#line 81
   append_to_tag_content("</code>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_html_code_open(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_html_code_open\n"));
  {
#line 80
   append_to_tag_content("<code>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_html_pre_close(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_html_pre_close\n"));
  {
#line 79
   append_to_tag_content("</pre>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_html_pre_open(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_html_pre_open\n"));
  {
#line 78
   append_to_tag_content("<pre>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_nowiki(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_nowiki\n"));
  {
#line 72
   RUN_ACTION(nowiki_action_1); start_of_line = 0; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_pre_line(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_pre_line\n"));
  {
#line 71
   bprintf("%s", yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_pre_block(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_pre_block\n"));
  {
#line 70
   bprintf("</pre>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_pre_block(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_pre_block\n"));
  {
#line 69
   bprintf("<pre>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_italic(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_italic\n"));
  {
#line 66
   append_to_tag_content("</i>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_italic(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_italic\n"));
  {
#line 65
   append_to_tag_content("<i>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_bold(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_bold\n"));
  {
#line 64
   append_to_tag_content("</b>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_bold(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_bold\n"));
  {
#line 63
   append_to_tag_content("<b>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_bold_italic(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_bold_italic\n"));
  {
#line 62
   append_to_tag_content("</i></b>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_bold_italic(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_bold_italic\n"));
  {
#line 61
   append_to_tag_content("<b><i>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_numbered(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_numbered\n"));
  {
#line 57
   RUN_ACTION(numbered_action_1); start_of_line = 0; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_numbered_list_entry(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_numbered_list_entry\n"));
  {
#line 56
   bprintf("</li>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_numbered_list(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_numbered_list\n"));
  {
#line 55
   RUN_ACTION(numbered_list_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_numbered_list(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_numbered_list\n"));
  {
#line 54
   bprintf("<ol>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_definition(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_definition\n"));
  {
#line 51
   RUN_ACTION(definition_action_1); start_of_line = 0; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_definition_list(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_definition_list\n"));
  {
#line 49
   RUN_ACTION(definition_list_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_definition_list(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_definition_list\n"));
  {
#line 48
   bprintf("<dl>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_bullet(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_bullet\n"));
  {
#line 45
   RUN_ACTION(bullet_action_1); start_of_line = 0; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_bullet_list_entry(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_bullet_list_entry\n"));
  {
#line 44
   bprintf("</li>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_bullet_list(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_bullet_list\n"));
  {
#line 43
   RUN_ACTION(bullet_list_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_bullet_list(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_bullet_list\n"));
  {
#line 42
   bprintf("<ul>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_list_text(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_list_text\n"));
  {
#line 39
   bprintf("%s", yytext); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_horizontal_line(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_horizontal_line\n"));
  {
#line 35
   bprintf("<hr />\n"); start_of_line = 0; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_paragraph(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_paragraph\n"));
  {
#line 34
   bprintf("</p>\n<p>"); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_heading_marker(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_heading_marker\n"));
  {
#line 31
   if(current_header_level == 0) current_header_level = (yyleng > 5) ? 5 : yyleng; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_2_heading(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_2_heading\n"));
  {
#line 29
   RUN_ACTION(heading_action_2); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_heading(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_heading\n"));
  {
#line 28
   RUN_ACTION(heading_action_1); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_eol(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_eol\n"));
  {
#line 23
   start_of_line = 1; ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}
YY_ACTION(void) yy_1_wikitext(yycontext *yy, char *yytext, int yyleng)
{
#define __ yy->__
#define yypos yy->__pos
#define yythunkpos yy->__thunkpos
  yyprintf((stderr, "do yy_1_wikitext\n"));
  {
#line 20
   append_to_tag_content("%c", '\n'); ;
  }
#undef yythunkpos
#undef yypos
#undef yy
}

YY_RULE(int) yy_angle_right(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "angle_right"));  if (!yymatchChar(yy, '>')) goto l1;  yyDo(yy, yy_1_angle_right, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "angle_right", yy->__buf+yy->__pos));
  return 1;
  l1:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "angle_right", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_angle_left(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "angle_left"));  if (!yymatchChar(yy, '<')) goto l2;  yyDo(yy, yy_1_angle_left, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "angle_left", yy->__buf+yy->__pos));
  return 1;
  l2:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "angle_left", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_comment_close(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "comment_close"));  if (!yymatchString(yy, "-->")) goto l3;
  yyprintf((stderr, "  ok   %s @ %s\n", "comment_close", yy->__buf+yy->__pos));
  return 1;
  l3:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "comment_close", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_comment_open(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "comment_open"));  if (!yymatchString(yy, "<!--")) goto l4;
  yyprintf((stderr, "  ok   %s @ %s\n", "comment_open", yy->__buf+yy->__pos));
  return 1;
  l4:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "comment_open", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_tag_attribute_value(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "tag_attribute_value"));  if (!yymatchChar(yy, '"')) goto l5;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l5;
#undef yytext
#undef yyleng
  }
  {  int yypos8= yy->__pos, yythunkpos8= yy->__thunkpos;  if (!yy_tag_close_nocap(yy)) goto l8;  goto l5;
  l8:;	  yy->__pos= yypos8; yy->__thunkpos= yythunkpos8;
  }
  {  int yypos9= yy->__pos, yythunkpos9= yy->__thunkpos;  if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\204\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l9;  goto l5;
  l9:;	  yy->__pos= yypos9; yy->__thunkpos= yythunkpos9;
  }  if (!yymatchDot(yy)) goto l5;
  l6:;	
  {  int yypos7= yy->__pos, yythunkpos7= yy->__thunkpos;
  {  int yypos10= yy->__pos, yythunkpos10= yy->__thunkpos;  if (!yy_tag_close_nocap(yy)) goto l10;  goto l7;
  l10:;	  yy->__pos= yypos10; yy->__thunkpos= yythunkpos10;
  }
  {  int yypos11= yy->__pos, yythunkpos11= yy->__thunkpos;  if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\204\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l11;  goto l7;
  l11:;	  yy->__pos= yypos11; yy->__thunkpos= yythunkpos11;
  }  if (!yymatchDot(yy)) goto l7;  goto l6;
  l7:;	  yy->__pos= yypos7; yy->__thunkpos= yythunkpos7;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l5;
#undef yytext
#undef yyleng
  }  if (!yymatchChar(yy, '"')) goto l5;  yyDo(yy, yy_1_tag_attribute_value, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "tag_attribute_value", yy->__buf+yy->__pos));
  return 1;
  l5:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "tag_attribute_value", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_tag_attribute_name(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "tag_attribute_name"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l12;
#undef yytext
#undef yyleng
  }
  {  int yypos15= yy->__pos, yythunkpos15= yy->__thunkpos;  if (!yymatchChar(yy, '=')) goto l15;  goto l12;
  l15:;	  yy->__pos= yypos15; yy->__thunkpos= yythunkpos15;
  }  if (!yymatchDot(yy)) goto l12;
  l13:;	
  {  int yypos14= yy->__pos, yythunkpos14= yy->__thunkpos;
  {  int yypos16= yy->__pos, yythunkpos16= yy->__thunkpos;  if (!yymatchChar(yy, '=')) goto l16;  goto l14;
  l16:;	  yy->__pos= yypos16; yy->__thunkpos= yythunkpos16;
  }  if (!yymatchDot(yy)) goto l14;  goto l13;
  l14:;	  yy->__pos= yypos14; yy->__thunkpos= yythunkpos14;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l12;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_tag_attribute_name, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "tag_attribute_name", yy->__buf+yy->__pos));
  return 1;
  l12:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "tag_attribute_name", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_tag_junk(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "tag_junk"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l17;
#undef yytext
#undef yyleng
  }
  {  int yypos20= yy->__pos, yythunkpos20= yy->__thunkpos;  if (!yy_tag_close_nocap(yy)) goto l20;  goto l17;
  l20:;	  yy->__pos= yypos20; yy->__thunkpos= yythunkpos20;
  }  if (!yymatchDot(yy)) goto l17;
  l18:;	
  {  int yypos19= yy->__pos, yythunkpos19= yy->__thunkpos;
  {  int yypos21= yy->__pos, yythunkpos21= yy->__thunkpos;  if (!yy_tag_close_nocap(yy)) goto l21;  goto l19;
  l21:;	  yy->__pos= yypos21; yy->__thunkpos= yythunkpos21;
  }  if (!yymatchDot(yy)) goto l19;  goto l18;
  l19:;	  yy->__pos= yypos19; yy->__thunkpos= yythunkpos19;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l17;
#undef yytext
#undef yyleng
  }
  yyprintf((stderr, "  ok   %s @ %s\n", "tag_junk", yy->__buf+yy->__pos));
  return 1;
  l17:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "tag_junk", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_tag_attribute(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "tag_attribute"));  if (!yy_tag_attribute_name(yy)) goto l22;  if (!yymatchChar(yy, '=')) goto l22;  if (!yy_tag_attribute_value(yy)) goto l22;
  yyprintf((stderr, "  ok   %s @ %s\n", "tag_attribute", yy->__buf+yy->__pos));
  return 1;
  l22:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "tag_attribute", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_tag_close_nocap(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "tag_close_nocap"));
  l24:;	
  {  int yypos25= yy->__pos, yythunkpos25= yy->__thunkpos;  if (!yy_space(yy)) goto l25;  goto l24;
  l25:;	  yy->__pos= yypos25; yy->__thunkpos= yythunkpos25;
  }
  {  int yypos26= yy->__pos, yythunkpos26= yy->__thunkpos;  if (!yymatchChar(yy, '/')) goto l26;  goto l27;
  l26:;	  yy->__pos= yypos26; yy->__thunkpos= yythunkpos26;
  }
  l27:;	  if (!yymatchChar(yy, '>')) goto l23;
  yyprintf((stderr, "  ok   %s @ %s\n", "tag_close_nocap", yy->__buf+yy->__pos));
  return 1;
  l23:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "tag_close_nocap", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_tag_close(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "tag_close"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l28;
#undef yytext
#undef yyleng
  }  if (!yy_tag_close_nocap(yy)) goto l28;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l28;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_tag_close, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "tag_close", yy->__buf+yy->__pos));
  return 1;
  l28:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "tag_close", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_tag_attributes_list(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "tag_attributes_list"));  if (!yy_space(yy)) goto l29;
  {  int yypos32= yy->__pos, yythunkpos32= yy->__thunkpos;  if (!yy_tag_attribute(yy)) goto l33;  goto l32;
  l33:;	  yy->__pos= yypos32; yy->__thunkpos= yythunkpos32;  if (!yy_tag_junk(yy)) goto l29;
  }
  l32:;	
  l30:;	
  {  int yypos31= yy->__pos, yythunkpos31= yy->__thunkpos;  if (!yy_space(yy)) goto l31;
  {  int yypos34= yy->__pos, yythunkpos34= yy->__thunkpos;  if (!yy_tag_attribute(yy)) goto l35;  goto l34;
  l35:;	  yy->__pos= yypos34; yy->__thunkpos= yythunkpos34;  if (!yy_tag_junk(yy)) goto l31;
  }
  l34:;	  goto l30;
  l31:;	  yy->__pos= yypos31; yy->__thunkpos= yythunkpos31;
  }
  yyprintf((stderr, "  ok   %s @ %s\n", "tag_attributes_list", yy->__buf+yy->__pos));
  return 1;
  l29:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "tag_attributes_list", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_tag(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "tag"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l36;
#undef yytext
#undef yyleng
  }
  {  int yypos37= yy->__pos, yythunkpos37= yy->__thunkpos;  if (!yymatchChar(yy, '/')) goto l37;  goto l38;
  l37:;	  yy->__pos= yypos37; yy->__thunkpos= yythunkpos37;
  }
  l38:;	
  {  int yypos41= yy->__pos, yythunkpos41= yy->__thunkpos;  if (!yy_tag_close_nocap(yy)) goto l41;  goto l36;
  l41:;	  yy->__pos= yypos41; yy->__thunkpos= yythunkpos41;
  }
  {  int yypos42= yy->__pos, yythunkpos42= yy->__thunkpos;  if (!yy_space(yy)) goto l42;  goto l36;
  l42:;	  yy->__pos= yypos42; yy->__thunkpos= yythunkpos42;
  }  if (!yymatchDot(yy)) goto l36;
  l39:;	
  {  int yypos40= yy->__pos, yythunkpos40= yy->__thunkpos;
  {  int yypos43= yy->__pos, yythunkpos43= yy->__thunkpos;  if (!yy_tag_close_nocap(yy)) goto l43;  goto l40;
  l43:;	  yy->__pos= yypos43; yy->__thunkpos= yythunkpos43;
  }
  {  int yypos44= yy->__pos, yythunkpos44= yy->__thunkpos;  if (!yy_space(yy)) goto l44;  goto l40;
  l44:;	  yy->__pos= yypos44; yy->__thunkpos= yythunkpos44;
  }  if (!yymatchDot(yy)) goto l40;  goto l39;
  l40:;	  yy->__pos= yypos40; yy->__thunkpos= yythunkpos40;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l36;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_tag, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "tag", yy->__buf+yy->__pos));
  return 1;
  l36:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "tag", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_tag_open(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "tag_open"));  if (!yymatchChar(yy, '<')) goto l45;  yyDo(yy, yy_1_tag_open, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "tag_open", yy->__buf+yy->__pos));
  return 1;
  l45:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "tag_open", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_forcetoc(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "forcetoc"));  if (!yymatchString(yy, "__FORCETOC__")) goto l46;  yyDo(yy, yy_1_forcetoc, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "forcetoc", yy->__buf+yy->__pos));
  return 1;
  l46:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "forcetoc", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_toc(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "toc"));  if (!yymatchString(yy, "__TOC__")) goto l47;  yyDo(yy, yy_1_toc, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "toc", yy->__buf+yy->__pos));
  return 1;
  l47:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "toc", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_notoc(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "notoc"));  if (!yymatchString(yy, "__NOTOC__")) goto l48;  yyDo(yy, yy_1_notoc, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "notoc", yy->__buf+yy->__pos));
  return 1;
  l48:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "notoc", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_noinclude_close(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "noinclude_close"));
  {  int yypos50= yy->__pos, yythunkpos50= yy->__thunkpos;  if (!yymatchString(yy, "</noinclude>")) goto l51;  goto l50;
  l51:;	  yy->__pos= yypos50; yy->__thunkpos= yythunkpos50;  if (!yymatchString(yy, "</NOINCLUDE>")) goto l49;
  }
  l50:;	  yyDo(yy, yy_1_noinclude_close, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "noinclude_close", yy->__buf+yy->__pos));
  return 1;
  l49:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "noinclude_close", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_noinclude_open(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "noinclude_open"));
  {  int yypos53= yy->__pos, yythunkpos53= yy->__thunkpos;  if (!yymatchString(yy, "<noinclude>")) goto l54;  goto l53;
  l54:;	  yy->__pos= yypos53; yy->__thunkpos= yythunkpos53;  if (!yymatchString(yy, "<NOINCLUDE>")) goto l52;
  }
  l53:;	  yyDo(yy, yy_1_noinclude_open, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "noinclude_open", yy->__buf+yy->__pos));
  return 1;
  l52:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "noinclude_open", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_template_nested_close(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "template_nested_close"));  if (!yymatchString(yy, "}}")) goto l55;
  yyprintf((stderr, "  ok   %s @ %s\n", "template_nested_close", yy->__buf+yy->__pos));
  return 1;
  l55:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "template_nested_close", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_template_nested_content(yycontext *yy)
{
  yyprintf((stderr, "%s\n", "template_nested_content"));
  l57:;	
  {  int yypos58= yy->__pos, yythunkpos58= yy->__thunkpos;
  {  int yypos59= yy->__pos, yythunkpos59= yy->__thunkpos;  if (!yy_template_nested_close(yy)) goto l59;  goto l58;
  l59:;	  yy->__pos= yypos59; yy->__thunkpos= yythunkpos59;
  }
  {  int yypos60= yy->__pos, yythunkpos60= yy->__thunkpos;  if (!yy_template_nested(yy)) goto l60;  goto l61;
  l60:;	  yy->__pos= yypos60; yy->__thunkpos= yythunkpos60;
  }
  l61:;	  if (!yymatchDot(yy)) goto l58;  goto l57;
  l58:;	  yy->__pos= yypos58; yy->__thunkpos= yythunkpos58;
  }
  yyprintf((stderr, "  ok   %s @ %s\n", "template_nested_content", yy->__buf+yy->__pos));
  return 1;
}
YY_RULE(int) yy_template_nested_open(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "template_nested_open"));  if (!yymatchString(yy, "{{")) goto l62;
  yyprintf((stderr, "  ok   %s @ %s\n", "template_nested_open", yy->__buf+yy->__pos));
  return 1;
  l62:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "template_nested_open", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_template_nested(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "template_nested"));  if (!yy_template_nested_open(yy)) goto l63;  if (!yy_template_nested_content(yy)) goto l63;  if (!yy_template_nested_close(yy)) goto l63;
  yyprintf((stderr, "  ok   %s @ %s\n", "template_nested", yy->__buf+yy->__pos));
  return 1;
  l63:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "template_nested", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_template_close(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "template_close"));  if (!yymatchString(yy, "}}")) goto l64;  yyDo(yy, yy_1_template_close, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "template_close", yy->__buf+yy->__pos));
  return 1;
  l64:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "template_close", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_template_content(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "template_content"));  if (!yymatchChar(yy, '|')) goto l65;
  l66:;	
  {  int yypos67= yy->__pos, yythunkpos67= yy->__thunkpos;  if (!yy_space(yy)) goto l67;  goto l66;
  l67:;	  yy->__pos= yypos67; yy->__thunkpos= yythunkpos67;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l65;
#undef yytext
#undef yyleng
  }
  {  int yypos70= yy->__pos, yythunkpos70= yy->__thunkpos;  if (!yy_template_close(yy)) goto l70;  goto l65;
  l70:;	  yy->__pos= yypos70; yy->__thunkpos= yythunkpos70;
  }
  {  int yypos71= yy->__pos, yythunkpos71= yy->__thunkpos;  if (!yy_template_nested(yy)) goto l71;  goto l72;
  l71:;	  yy->__pos= yypos71; yy->__thunkpos= yythunkpos71;
  }
  l72:;	  if (!yymatchDot(yy)) goto l65;
  l68:;	
  {  int yypos69= yy->__pos, yythunkpos69= yy->__thunkpos;
  {  int yypos73= yy->__pos, yythunkpos73= yy->__thunkpos;  if (!yy_template_close(yy)) goto l73;  goto l69;
  l73:;	  yy->__pos= yypos73; yy->__thunkpos= yythunkpos73;
  }
  {  int yypos74= yy->__pos, yythunkpos74= yy->__thunkpos;  if (!yy_template_nested(yy)) goto l74;  goto l75;
  l74:;	  yy->__pos= yypos74; yy->__thunkpos= yythunkpos74;
  }
  l75:;	  if (!yymatchDot(yy)) goto l69;  goto l68;
  l69:;	  yy->__pos= yypos69; yy->__thunkpos= yythunkpos69;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l65;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_template_content, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "template_content", yy->__buf+yy->__pos));
  return 1;
  l65:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "template_content", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_template_name(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "template_name"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l76;
#undef yytext
#undef yyleng
  }
  l77:;	
  {  int yypos78= yy->__pos, yythunkpos78= yy->__thunkpos;
  {  int yypos79= yy->__pos, yythunkpos79= yy->__thunkpos;  if (!yy_template_close(yy)) goto l79;  goto l78;
  l79:;	  yy->__pos= yypos79; yy->__thunkpos= yythunkpos79;
  }
  {  int yypos80= yy->__pos, yythunkpos80= yy->__thunkpos;  if (!yymatchChar(yy, '|')) goto l80;  goto l78;
  l80:;	  yy->__pos= yypos80; yy->__thunkpos= yythunkpos80;
  }  if (!yymatchDot(yy)) goto l78;  goto l77;
  l78:;	  yy->__pos= yypos78; yy->__thunkpos= yythunkpos78;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l76;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_template_name, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "template_name", yy->__buf+yy->__pos));
  return 1;
  l76:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "template_name", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_template_open(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "template_open"));  if (!yymatchString(yy, "{{")) goto l81;  yyDo(yy, yy_1_template_open, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "template_open", yy->__buf+yy->__pos));
  return 1;
  l81:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "template_open", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_simple_header(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "simple_header"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(start_of_line)) goto l82;
#undef yytext
#undef yyleng
  }  if (!yymatchChar(yy, '!')) goto l82;
  l83:;	
  {  int yypos84= yy->__pos, yythunkpos84= yy->__thunkpos;  if (!yy_space(yy)) goto l84;  goto l83;
  l84:;	  yy->__pos= yypos84; yy->__thunkpos= yythunkpos84;
  }  yyDo(yy, yy_1_simple_header, yy->__begin, yy->__end);
  {  int yypos87= yy->__pos, yythunkpos87= yy->__thunkpos;  if (!yy_eol(yy)) goto l87;  goto l82;
  l87:;	  yy->__pos= yypos87; yy->__thunkpos= yythunkpos87;
  }
  {  int yypos88= yy->__pos, yythunkpos88= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l88;  goto l82;
  l88:;	  yy->__pos= yypos88; yy->__thunkpos= yythunkpos88;
  }  if (!yy_wikitext(yy)) goto l82;
  l85:;	
  {  int yypos86= yy->__pos, yythunkpos86= yy->__thunkpos;
  {  int yypos89= yy->__pos, yythunkpos89= yy->__thunkpos;  if (!yy_eol(yy)) goto l89;  goto l86;
  l89:;	  yy->__pos= yypos89; yy->__thunkpos= yythunkpos89;
  }
  {  int yypos90= yy->__pos, yythunkpos90= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l90;  goto l86;
  l90:;	  yy->__pos= yypos90; yy->__thunkpos= yythunkpos90;
  }  if (!yy_wikitext(yy)) goto l86;  goto l85;
  l86:;	  yy->__pos= yypos86; yy->__thunkpos= yythunkpos86;
  }
  {  int yypos91= yy->__pos, yythunkpos91= yy->__thunkpos;  if (!yy_eol(yy)) goto l92;  goto l91;
  l92:;	  yy->__pos= yypos91; yy->__thunkpos= yythunkpos91;
  {  int yypos93= yy->__pos, yythunkpos93= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l82;  yy->__pos= yypos93; yy->__thunkpos= yythunkpos93;
  }
  }
  l91:;	  yyDo(yy, yy_2_simple_header, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "simple_header", yy->__buf+yy->__pos));
  return 1;
  l82:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "simple_header", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_complex_header(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "complex_header"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(start_of_line)) goto l94;
#undef yytext
#undef yyleng
  }  if (!yymatchChar(yy, '!')) goto l94;  yyDo(yy, yy_1_complex_header, yy->__begin, yy->__end);
  l95:;	
  {  int yypos96= yy->__pos, yythunkpos96= yy->__thunkpos;  if (!yy_cell_attribute_list(yy)) goto l96;  goto l95;
  l96:;	  yy->__pos= yypos96; yy->__thunkpos= yythunkpos96;
  }
  l97:;	
  {  int yypos98= yy->__pos, yythunkpos98= yy->__thunkpos;  if (!yy_space(yy)) goto l98;  goto l97;
  l98:;	  yy->__pos= yypos98; yy->__thunkpos= yythunkpos98;
  }  if (!yymatchChar(yy, '|')) goto l94;  yyDo(yy, yy_2_complex_header, yy->__begin, yy->__end);
  l99:;	
  {  int yypos100= yy->__pos, yythunkpos100= yy->__thunkpos;  if (!yy_space(yy)) goto l100;  goto l99;
  l100:;	  yy->__pos= yypos100; yy->__thunkpos= yythunkpos100;
  }
  l101:;	
  {  int yypos102= yy->__pos, yythunkpos102= yy->__thunkpos;
  {  int yypos103= yy->__pos, yythunkpos103= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l103;  goto l102;
  l103:;	  yy->__pos= yypos103; yy->__thunkpos= yythunkpos103;
  }
  {  int yypos104= yy->__pos, yythunkpos104= yy->__thunkpos;  if (!yy_eol(yy)) goto l104;  goto l102;
  l104:;	  yy->__pos= yypos104; yy->__thunkpos= yythunkpos104;
  }  if (!yy_wikitext(yy)) goto l102;  goto l101;
  l102:;	  yy->__pos= yypos102; yy->__thunkpos= yythunkpos102;
  }
  {  int yypos105= yy->__pos, yythunkpos105= yy->__thunkpos;
  {  int yypos107= yy->__pos, yythunkpos107= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l106;  yy->__pos= yypos107; yy->__thunkpos= yythunkpos107;
  }  goto l105;
  l106:;	  yy->__pos= yypos105; yy->__thunkpos= yythunkpos105;  if (!yy_eol(yy)) goto l94;
  }
  l105:;	  yyDo(yy, yy_3_complex_header, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "complex_header", yy->__buf+yy->__pos));
  return 1;
  l94:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "complex_header", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_inline_cell_open(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "inline_cell_open"));
  {  int yypos109= yy->__pos, yythunkpos109= yy->__thunkpos;  if (!yymatchString(yy, "||")) goto l110;  goto l109;
  l110:;	  yy->__pos= yypos109; yy->__thunkpos= yythunkpos109;  if (!yymatchString(yy, "!!")) goto l108;
  }
  l109:;	  yyDo(yy, yy_1_inline_cell_open, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "inline_cell_open", yy->__buf+yy->__pos));
  return 1;
  l108:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "inline_cell_open", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_inline_cell_simple(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "inline_cell_simple"));  if (!yy_inline_cell_open(yy)) goto l111;
  l112:;	
  {  int yypos113= yy->__pos, yythunkpos113= yy->__thunkpos;  if (!yy_space(yy)) goto l113;  goto l112;
  l113:;	  yy->__pos= yypos113; yy->__thunkpos= yythunkpos113;
  }  yyDo(yy, yy_1_inline_cell_simple, yy->__begin, yy->__end);
  l114:;	
  {  int yypos115= yy->__pos, yythunkpos115= yy->__thunkpos;
  {  int yypos116= yy->__pos, yythunkpos116= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l116;  goto l115;
  l116:;	  yy->__pos= yypos116; yy->__thunkpos= yythunkpos116;
  }  if (!yy_wikitext(yy)) goto l115;  goto l114;
  l115:;	  yy->__pos= yypos115; yy->__thunkpos= yythunkpos115;
  }
  {  int yypos117= yy->__pos, yythunkpos117= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l111;  yy->__pos= yypos117; yy->__thunkpos= yythunkpos117;
  }  yyDo(yy, yy_2_inline_cell_simple, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "inline_cell_simple", yy->__buf+yy->__pos));
  return 1;
  l111:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "inline_cell_simple", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_inline_cell_complex(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "inline_cell_complex"));  if (!yy_inline_cell_open(yy)) goto l118;  if (!yy_cell_attribute_list(yy)) goto l118;
  l119:;	
  {  int yypos120= yy->__pos, yythunkpos120= yy->__thunkpos;  if (!yy_space(yy)) goto l120;  goto l119;
  l120:;	  yy->__pos= yypos120; yy->__thunkpos= yythunkpos120;
  }  if (!yymatchChar(yy, '|')) goto l118;
  {  int yypos121= yy->__pos, yythunkpos121= yy->__thunkpos;  if (!yymatchChar(yy, '|')) goto l121;  goto l118;
  l121:;	  yy->__pos= yypos121; yy->__thunkpos= yythunkpos121;
  }
  l122:;	
  {  int yypos123= yy->__pos, yythunkpos123= yy->__thunkpos;  if (!yy_space(yy)) goto l123;  goto l122;
  l123:;	  yy->__pos= yypos123; yy->__thunkpos= yythunkpos123;
  }
  l124:;	
  {  int yypos125= yy->__pos, yythunkpos125= yy->__thunkpos;
  {  int yypos126= yy->__pos, yythunkpos126= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l126;  goto l125;
  l126:;	  yy->__pos= yypos126; yy->__thunkpos= yythunkpos126;
  }  if (!yy_wikitext(yy)) goto l125;  goto l124;
  l125:;	  yy->__pos= yypos125; yy->__thunkpos= yythunkpos125;
  }
  {  int yypos127= yy->__pos, yythunkpos127= yy->__thunkpos;  if (!yy_cell_close(yy)) goto l127;  goto l128;
  l127:;	  yy->__pos= yypos127; yy->__thunkpos= yythunkpos127;
  }
  l128:;	  yyDo(yy, yy_1_inline_cell_complex, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "inline_cell_complex", yy->__buf+yy->__pos));
  return 1;
  l118:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "inline_cell_complex", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_sol_cell_open(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "sol_cell_open"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(start_of_line)) goto l129;
#undef yytext
#undef yyleng
  }  if (!yymatchChar(yy, '|')) goto l129;
  {  int yypos130= yy->__pos, yythunkpos130= yy->__thunkpos;  if (!yy_table_specials(yy)) goto l130;  goto l129;
  l130:;	  yy->__pos= yypos130; yy->__thunkpos= yythunkpos130;
  }  yyDo(yy, yy_1_sol_cell_open, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "sol_cell_open", yy->__buf+yy->__pos));
  return 1;
  l129:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "sol_cell_open", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_sol_cell_simple(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "sol_cell_simple"));  if (!yy_sol_cell_open(yy)) goto l131;
  l132:;	
  {  int yypos133= yy->__pos, yythunkpos133= yy->__thunkpos;  if (!yy_space(yy)) goto l133;  goto l132;
  l133:;	  yy->__pos= yypos133; yy->__thunkpos= yythunkpos133;
  }  yyDo(yy, yy_1_sol_cell_simple, yy->__begin, yy->__end);
  l134:;	
  {  int yypos135= yy->__pos, yythunkpos135= yy->__thunkpos;
  {  int yypos136= yy->__pos, yythunkpos136= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l136;  goto l135;
  l136:;	  yy->__pos= yypos136; yy->__thunkpos= yythunkpos136;
  }  if (!yy_wikitext(yy)) goto l135;  goto l134;
  l135:;	  yy->__pos= yypos135; yy->__thunkpos= yythunkpos135;
  }
  {  int yypos137= yy->__pos, yythunkpos137= yy->__thunkpos;  if (!yy_cell_close(yy)) goto l137;  goto l138;
  l137:;	  yy->__pos= yypos137; yy->__thunkpos= yythunkpos137;
  }
  l138:;	  yyDo(yy, yy_2_sol_cell_simple, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "sol_cell_simple", yy->__buf+yy->__pos));
  return 1;
  l131:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "sol_cell_simple", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_sol_cell_complex(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "sol_cell_complex"));  if (!yy_sol_cell_open(yy)) goto l139;  if (!yy_cell_attribute_list(yy)) goto l139;
  l140:;	
  {  int yypos141= yy->__pos, yythunkpos141= yy->__thunkpos;  if (!yy_space(yy)) goto l141;  goto l140;
  l141:;	  yy->__pos= yypos141; yy->__thunkpos= yythunkpos141;
  }  if (!yymatchChar(yy, '|')) goto l139;
  {  int yypos142= yy->__pos, yythunkpos142= yy->__thunkpos;  if (!yymatchChar(yy, '|')) goto l142;  goto l139;
  l142:;	  yy->__pos= yypos142; yy->__thunkpos= yythunkpos142;
  }
  l143:;	
  {  int yypos144= yy->__pos, yythunkpos144= yy->__thunkpos;  if (!yy_space(yy)) goto l144;  goto l143;
  l144:;	  yy->__pos= yypos144; yy->__thunkpos= yythunkpos144;
  }
  l145:;	
  {  int yypos146= yy->__pos, yythunkpos146= yy->__thunkpos;
  {  int yypos147= yy->__pos, yythunkpos147= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l147;  goto l146;
  l147:;	  yy->__pos= yypos147; yy->__thunkpos= yythunkpos147;
  }  if (!yy_wikitext(yy)) goto l146;  goto l145;
  l146:;	  yy->__pos= yypos146; yy->__thunkpos= yythunkpos146;
  }
  {  int yypos148= yy->__pos, yythunkpos148= yy->__thunkpos;  if (!yy_cell_close(yy)) goto l148;  goto l149;
  l148:;	  yy->__pos= yypos148; yy->__thunkpos= yythunkpos148;
  }
  l149:;	  yyDo(yy, yy_1_sol_cell_complex, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "sol_cell_complex", yy->__buf+yy->__pos));
  return 1;
  l139:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "sol_cell_complex", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_cell_close(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "cell_close"));
  {  int yypos151= yy->__pos, yythunkpos151= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l150;  yy->__pos= yypos151; yy->__thunkpos= yythunkpos151;
  }
  yyprintf((stderr, "  ok   %s @ %s\n", "cell_close", yy->__buf+yy->__pos));
  return 1;
  l150:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "cell_close", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_cell_attribute_value(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "cell_attribute_value"));  if (!yymatchChar(yy, '"')) goto l152;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l152;
#undef yytext
#undef yyleng
  }
  {  int yypos155= yy->__pos, yythunkpos155= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l155;  goto l152;
  l155:;	  yy->__pos= yypos155; yy->__thunkpos= yythunkpos155;
  }
  {  int yypos156= yy->__pos, yythunkpos156= yy->__thunkpos;  if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\204\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l156;  goto l152;
  l156:;	  yy->__pos= yypos156; yy->__thunkpos= yythunkpos156;
  }  if (!yymatchDot(yy)) goto l152;
  l153:;	
  {  int yypos154= yy->__pos, yythunkpos154= yy->__thunkpos;
  {  int yypos157= yy->__pos, yythunkpos157= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l157;  goto l154;
  l157:;	  yy->__pos= yypos157; yy->__thunkpos= yythunkpos157;
  }
  {  int yypos158= yy->__pos, yythunkpos158= yy->__thunkpos;  if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\204\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l158;  goto l154;
  l158:;	  yy->__pos= yypos158; yy->__thunkpos= yythunkpos158;
  }  if (!yymatchDot(yy)) goto l154;  goto l153;
  l154:;	  yy->__pos= yypos154; yy->__thunkpos= yythunkpos154;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l152;
#undef yytext
#undef yyleng
  }  if (!yymatchChar(yy, '"')) goto l152;  yyDo(yy, yy_1_cell_attribute_value, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "cell_attribute_value", yy->__buf+yy->__pos));
  return 1;
  l152:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "cell_attribute_value", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_cell_attribute_name(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "cell_attribute_name"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l159;
#undef yytext
#undef yyleng
  }
  {  int yypos162= yy->__pos, yythunkpos162= yy->__thunkpos;  if (!yy_eol(yy)) goto l162;  goto l159;
  l162:;	  yy->__pos= yypos162; yy->__thunkpos= yythunkpos162;
  }
  {  int yypos163= yy->__pos, yythunkpos163= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l163;  goto l159;
  l163:;	  yy->__pos= yypos163; yy->__thunkpos= yythunkpos163;
  }
  {  int yypos164= yy->__pos, yythunkpos164= yy->__thunkpos;  if (!yymatchChar(yy, '=')) goto l164;  goto l159;
  l164:;	  yy->__pos= yypos164; yy->__thunkpos= yythunkpos164;
  }  if (!yymatchDot(yy)) goto l159;
  l160:;	
  {  int yypos161= yy->__pos, yythunkpos161= yy->__thunkpos;
  {  int yypos165= yy->__pos, yythunkpos165= yy->__thunkpos;  if (!yy_eol(yy)) goto l165;  goto l161;
  l165:;	  yy->__pos= yypos165; yy->__thunkpos= yythunkpos165;
  }
  {  int yypos166= yy->__pos, yythunkpos166= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l166;  goto l161;
  l166:;	  yy->__pos= yypos166; yy->__thunkpos= yythunkpos166;
  }
  {  int yypos167= yy->__pos, yythunkpos167= yy->__thunkpos;  if (!yymatchChar(yy, '=')) goto l167;  goto l161;
  l167:;	  yy->__pos= yypos167; yy->__thunkpos= yythunkpos167;
  }  if (!yymatchDot(yy)) goto l161;  goto l160;
  l161:;	  yy->__pos= yypos161; yy->__thunkpos= yythunkpos161;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l159;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_cell_attribute_name, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "cell_attribute_name", yy->__buf+yy->__pos));
  return 1;
  l159:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "cell_attribute_name", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_cell_junk(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "cell_junk"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l168;
#undef yytext
#undef yyleng
  }
  {  int yypos171= yy->__pos, yythunkpos171= yy->__thunkpos;
  {  int yypos172= yy->__pos, yythunkpos172= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l171;  yy->__pos= yypos172; yy->__thunkpos= yythunkpos172;
  }  goto l168;
  l171:;	  yy->__pos= yypos171; yy->__thunkpos= yythunkpos171;
  }
  {  int yypos173= yy->__pos, yythunkpos173= yy->__thunkpos;  if (!yy_eol(yy)) goto l173;  goto l168;
  l173:;	  yy->__pos= yypos173; yy->__thunkpos= yythunkpos173;
  }
  {  int yypos174= yy->__pos, yythunkpos174= yy->__thunkpos;  if (!yymatchChar(yy, '|')) goto l174;  goto l168;
  l174:;	  yy->__pos= yypos174; yy->__thunkpos= yythunkpos174;
  }  if (!yymatchDot(yy)) goto l168;
  l169:;	
  {  int yypos170= yy->__pos, yythunkpos170= yy->__thunkpos;
  {  int yypos175= yy->__pos, yythunkpos175= yy->__thunkpos;
  {  int yypos176= yy->__pos, yythunkpos176= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l175;  yy->__pos= yypos176; yy->__thunkpos= yythunkpos176;
  }  goto l170;
  l175:;	  yy->__pos= yypos175; yy->__thunkpos= yythunkpos175;
  }
  {  int yypos177= yy->__pos, yythunkpos177= yy->__thunkpos;  if (!yy_eol(yy)) goto l177;  goto l170;
  l177:;	  yy->__pos= yypos177; yy->__thunkpos= yythunkpos177;
  }
  {  int yypos178= yy->__pos, yythunkpos178= yy->__thunkpos;  if (!yymatchChar(yy, '|')) goto l178;  goto l170;
  l178:;	  yy->__pos= yypos178; yy->__thunkpos= yythunkpos178;
  }  if (!yymatchDot(yy)) goto l170;  goto l169;
  l170:;	  yy->__pos= yypos170; yy->__thunkpos= yythunkpos170;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l168;
#undef yytext
#undef yyleng
  }
  yyprintf((stderr, "  ok   %s @ %s\n", "cell_junk", yy->__buf+yy->__pos));
  return 1;
  l168:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "cell_junk", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_cell_attribute(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "cell_attribute"));  if (!yy_cell_attribute_name(yy)) goto l179;  if (!yymatchChar(yy, '=')) goto l179;  if (!yy_cell_attribute_value(yy)) goto l179;
  yyprintf((stderr, "  ok   %s @ %s\n", "cell_attribute", yy->__buf+yy->__pos));
  return 1;
  l179:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "cell_attribute", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_inline_cell(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "inline_cell"));
  {  int yypos181= yy->__pos, yythunkpos181= yy->__thunkpos;  if (!yy_inline_cell_complex(yy)) goto l182;  goto l181;
  l182:;	  yy->__pos= yypos181; yy->__thunkpos= yythunkpos181;  if (!yy_inline_cell_simple(yy)) goto l180;
  }
  l181:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "inline_cell", yy->__buf+yy->__pos));
  return 1;
  l180:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "inline_cell", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_sol_cell(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "sol_cell"));
  {  int yypos184= yy->__pos, yythunkpos184= yy->__thunkpos;  if (!yy_sol_cell_complex(yy)) goto l185;  goto l184;
  l185:;	  yy->__pos= yypos184; yy->__thunkpos= yythunkpos184;  if (!yy_sol_cell_simple(yy)) goto l183;
  }
  l184:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "sol_cell", yy->__buf+yy->__pos));
  return 1;
  l183:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "sol_cell", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_complex_row(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "complex_row"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l186;
#undef yytext
#undef yyleng
  }
  l187:;	
  {  int yypos188= yy->__pos, yythunkpos188= yy->__thunkpos;
  {  int yypos189= yy->__pos, yythunkpos189= yy->__thunkpos;  if (!yy_eol(yy)) goto l189;  goto l188;
  l189:;	  yy->__pos= yypos189; yy->__thunkpos= yythunkpos189;
  }  if (!yymatchDot(yy)) goto l188;  goto l187;
  l188:;	  yy->__pos= yypos188; yy->__thunkpos= yythunkpos188;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l186;
#undef yytext
#undef yyleng
  }  if (!yy_eol(yy)) goto l186;  yyDo(yy, yy_1_complex_row, yy->__begin, yy->__end);
  l190:;	
  {  int yypos191= yy->__pos, yythunkpos191= yy->__thunkpos;
  {  int yypos192= yy->__pos, yythunkpos192= yy->__thunkpos;  if (!yy_table_headers(yy)) goto l193;  goto l192;
  l193:;	  yy->__pos= yypos192; yy->__thunkpos= yythunkpos192;  if (!yy_table_cell(yy)) goto l191;
  }
  l192:;	  goto l190;
  l191:;	  yy->__pos= yypos191; yy->__thunkpos= yythunkpos191;
  }  yyDo(yy, yy_2_complex_row, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "complex_row", yy->__buf+yy->__pos));
  return 1;
  l186:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "complex_row", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_simple_row(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "simple_row"));
  l195:;	
  {  int yypos196= yy->__pos, yythunkpos196= yy->__thunkpos;  if (!yymatchClass(yy, (unsigned char *)"\000\002\000\000\001\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l196;  goto l195;
  l196:;	  yy->__pos= yypos196; yy->__thunkpos= yythunkpos196;
  }  if (!yy_eol(yy)) goto l194;  yyDo(yy, yy_1_simple_row, yy->__begin, yy->__end);
  l197:;	
  {  int yypos198= yy->__pos, yythunkpos198= yy->__thunkpos;
  {  int yypos199= yy->__pos, yythunkpos199= yy->__thunkpos;  if (!yy_table_headers(yy)) goto l200;  goto l199;
  l200:;	  yy->__pos= yypos199; yy->__thunkpos= yythunkpos199;  if (!yy_table_cell(yy)) goto l198;
  }
  l199:;	  goto l197;
  l198:;	  yy->__pos= yypos198; yy->__thunkpos= yythunkpos198;
  }  yyDo(yy, yy_2_simple_row, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "simple_row", yy->__buf+yy->__pos));
  return 1;
  l194:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "simple_row", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_row_open(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "row_open"));  if (!yymatchString(yy, "|-")) goto l201;
  l202:;	
  {  int yypos203= yy->__pos, yythunkpos203= yy->__thunkpos;  if (!yy_space(yy)) goto l203;  goto l202;
  l203:;	  yy->__pos= yypos203; yy->__thunkpos= yythunkpos203;
  }  yyDo(yy, yy_1_row_open, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "row_open", yy->__buf+yy->__pos));
  return 1;
  l201:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "row_open", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_table_cell(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "table_cell"));
  {  int yypos205= yy->__pos, yythunkpos205= yy->__thunkpos;  if (!yy_sol_cell(yy)) goto l206;  goto l205;
  l206:;	  yy->__pos= yypos205; yy->__thunkpos= yythunkpos205;  if (!yy_inline_cell(yy)) goto l204;
  }
  l205:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "table_cell", yy->__buf+yy->__pos));
  return 1;
  l204:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "table_cell", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_cell_attribute_list(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "cell_attribute_list"));
  {  int yypos210= yy->__pos, yythunkpos210= yy->__thunkpos;  if (!yy_cell_attribute(yy)) goto l211;  goto l210;
  l211:;	  yy->__pos= yypos210; yy->__thunkpos= yythunkpos210;  if (!yy_cell_junk(yy)) goto l207;
  }
  l210:;	
  l212:;	
  {  int yypos213= yy->__pos, yythunkpos213= yy->__thunkpos;  if (!yy_space(yy)) goto l213;  goto l212;
  l213:;	  yy->__pos= yypos213; yy->__thunkpos= yythunkpos213;
  }
  l208:;	
  {  int yypos209= yy->__pos, yythunkpos209= yy->__thunkpos;
  {  int yypos214= yy->__pos, yythunkpos214= yy->__thunkpos;  if (!yy_cell_attribute(yy)) goto l215;  goto l214;
  l215:;	  yy->__pos= yypos214; yy->__thunkpos= yythunkpos214;  if (!yy_cell_junk(yy)) goto l209;
  }
  l214:;	
  l216:;	
  {  int yypos217= yy->__pos, yythunkpos217= yy->__thunkpos;  if (!yy_space(yy)) goto l217;  goto l216;
  l217:;	  yy->__pos= yypos217; yy->__thunkpos= yythunkpos217;
  }  goto l208;
  l209:;	  yy->__pos= yypos209; yy->__thunkpos= yythunkpos209;
  }  yyDo(yy, yy_1_cell_attribute_list, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "cell_attribute_list", yy->__buf+yy->__pos));
  return 1;
  l207:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "cell_attribute_list", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_table_delims(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "table_delims"));
  {  int yypos219= yy->__pos, yythunkpos219= yy->__thunkpos;  if (!yymatchChar(yy, '|')) goto l220;  if (!yy_table_specials(yy)) goto l220;  goto l219;
  l220:;	  yy->__pos= yypos219; yy->__thunkpos= yythunkpos219;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(start_of_line)) goto l221;
#undef yytext
#undef yyleng
  }  if (!yymatchChar(yy, '!')) goto l221;  goto l219;
  l221:;	  yy->__pos= yypos219; yy->__thunkpos= yythunkpos219;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(start_of_line)) goto l222;
#undef yytext
#undef yyleng
  }  if (!yymatchChar(yy, '|')) goto l222;  goto l219;
  l222:;	  yy->__pos= yypos219; yy->__thunkpos= yythunkpos219;  if (!yymatchChar(yy, '!')) goto l218;  if (!yy_table_specials(yy)) goto l218;
  }
  l219:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "table_delims", yy->__buf+yy->__pos));
  return 1;
  l218:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "table_delims", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_table_specials(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "table_specials"));
  {  int yypos224= yy->__pos, yythunkpos224= yy->__thunkpos;  if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\002\010\000\000\000\000\000\000\000\000\000\060\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l225;  goto l224;
  l225:;	  yy->__pos= yypos224; yy->__thunkpos= yythunkpos224;  if (!yymatchChar(yy, '-')) goto l223;
  }
  l224:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "table_specials", yy->__buf+yy->__pos));
  return 1;
  l223:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "table_specials", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_table_close(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "table_close"));  if (!yymatchString(yy, "|}")) goto l226;
  yyprintf((stderr, "  ok   %s @ %s\n", "table_close", yy->__buf+yy->__pos));
  return 1;
  l226:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "table_close", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_pseudo_row(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "pseudo_row"));  yyDo(yy, yy_1_pseudo_row, yy->__begin, yy->__end);  if (!yy_table_cell(yy)) goto l227;
  l228:;	
  {  int yypos229= yy->__pos, yythunkpos229= yy->__thunkpos;  if (!yy_table_cell(yy)) goto l229;  goto l228;
  l229:;	  yy->__pos= yypos229; yy->__thunkpos= yythunkpos229;
  }  yyDo(yy, yy_2_pseudo_row, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "pseudo_row", yy->__buf+yy->__pos));
  return 1;
  l227:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "pseudo_row", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_table_headers(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "table_headers"));  yyDo(yy, yy_1_table_headers, yy->__begin, yy->__end);
  {  int yypos233= yy->__pos, yythunkpos233= yy->__thunkpos;  if (!yy_complex_header(yy)) goto l234;  goto l233;
  l234:;	  yy->__pos= yypos233; yy->__thunkpos= yythunkpos233;  if (!yy_simple_header(yy)) goto l230;
  }
  l233:;	
  l231:;	
  {  int yypos232= yy->__pos, yythunkpos232= yy->__thunkpos;
  {  int yypos235= yy->__pos, yythunkpos235= yy->__thunkpos;  if (!yy_complex_header(yy)) goto l236;  goto l235;
  l236:;	  yy->__pos= yypos235; yy->__thunkpos= yythunkpos235;  if (!yy_simple_header(yy)) goto l232;
  }
  l235:;	  goto l231;
  l232:;	  yy->__pos= yypos232; yy->__thunkpos= yythunkpos232;
  }  yyDo(yy, yy_2_table_headers, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "table_headers", yy->__buf+yy->__pos));
  return 1;
  l230:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "table_headers", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_table_row(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "table_row"));  if (!yy_row_open(yy)) goto l237;
  {  int yypos238= yy->__pos, yythunkpos238= yy->__thunkpos;  if (!yy_simple_row(yy)) goto l239;  goto l238;
  l239:;	  yy->__pos= yypos238; yy->__thunkpos= yythunkpos238;  if (!yy_complex_row(yy)) goto l237;
  }
  l238:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "table_row", yy->__buf+yy->__pos));
  return 1;
  l237:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "table_row", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_table_caption(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "table_caption"));  if (!yymatchString(yy, "|+")) goto l240;
  l241:;	
  {  int yypos242= yy->__pos, yythunkpos242= yy->__thunkpos;  if (!yy_space(yy)) goto l242;  goto l241;
  l242:;	  yy->__pos= yypos242; yy->__thunkpos= yythunkpos242;
  }  yyDo(yy, yy_1_table_caption, yy->__begin, yy->__end);
  l243:;	
  {  int yypos244= yy->__pos, yythunkpos244= yy->__thunkpos;  if (!yy_cell_attribute_list(yy)) goto l244;
  l245:;	
  {  int yypos246= yy->__pos, yythunkpos246= yy->__thunkpos;  if (!yy_space(yy)) goto l246;  goto l245;
  l246:;	  yy->__pos= yypos246; yy->__thunkpos= yythunkpos246;
  }  if (!yymatchChar(yy, '|')) goto l244;  goto l243;
  l244:;	  yy->__pos= yypos244; yy->__thunkpos= yythunkpos244;
  }  yyDo(yy, yy_2_table_caption, yy->__begin, yy->__end);
  l247:;	
  {  int yypos248= yy->__pos, yythunkpos248= yy->__thunkpos;
  {  int yypos249= yy->__pos, yythunkpos249= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l249;  goto l248;
  l249:;	  yy->__pos= yypos249; yy->__thunkpos= yythunkpos249;
  }  if (!yy_wikitext(yy)) goto l248;  goto l247;
  l248:;	  yy->__pos= yypos248; yy->__thunkpos= yythunkpos248;
  }
  {  int yypos250= yy->__pos, yythunkpos250= yy->__thunkpos;  if (!yy_table_delims(yy)) goto l240;  yy->__pos= yypos250; yy->__thunkpos= yythunkpos250;
  }  yyDo(yy, yy_3_table_caption, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "table_caption", yy->__buf+yy->__pos));
  return 1;
  l240:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "table_caption", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_table_open(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "table_open"));  if (!yymatchString(yy, "{|")) goto l251;
  l252:;	
  {  int yypos253= yy->__pos, yythunkpos253= yy->__thunkpos;  if (!yy_space(yy)) goto l253;  goto l252;
  l253:;	  yy->__pos= yypos253; yy->__thunkpos= yythunkpos253;
  }  yyDo(yy, yy_1_table_open, yy->__begin, yy->__end);
  l254:;	
  {  int yypos255= yy->__pos, yythunkpos255= yy->__thunkpos;  if (!yy_cell_attribute_list(yy)) goto l255;  goto l254;
  l255:;	  yy->__pos= yypos255; yy->__thunkpos= yythunkpos255;
  }  yyDo(yy, yy_2_table_open, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "table_open", yy->__buf+yy->__pos));
  return 1;
  l251:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "table_open", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_thumb(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "thumb"));
  {  int yypos257= yy->__pos, yythunkpos257= yy->__thunkpos;  if (!yymatchString(yy, "thumbnail")) goto l258;  goto l257;
  l258:;	  yy->__pos= yypos257; yy->__thunkpos= yythunkpos257;  if (!yymatchString(yy, "thumb")) goto l256;
  }
  l257:;	  yyDo(yy, yy_1_thumb, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "thumb", yy->__buf+yy->__pos));
  return 1;
  l256:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "thumb", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_frame(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "frame"));  if (!yymatchString(yy, "frame")) goto l259;  yyDo(yy, yy_1_frame, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "frame", yy->__buf+yy->__pos));
  return 1;
  l259:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "frame", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_image_size(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "image_size"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l260;
#undef yytext
#undef yyleng
  }  if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\377\003\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l260;
  l261:;	
  {  int yypos262= yy->__pos, yythunkpos262= yy->__thunkpos;  if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\377\003\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l262;  goto l261;
  l262:;	  yy->__pos= yypos262; yy->__thunkpos= yythunkpos262;
  }  if (!yymatchString(yy, "px")) goto l260;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l260;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_image_size, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "image_size", yy->__buf+yy->__pos));
  return 1;
  l260:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "image_size", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_image_border(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "image_border"));  if (!yymatchString(yy, "border")) goto l263;  yyDo(yy, yy_1_image_border, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "image_border", yy->__buf+yy->__pos));
  return 1;
  l263:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "image_border", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_image_link(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "image_link"));  if (!yymatchString(yy, "link=")) goto l264;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l264;
#undef yytext
#undef yyleng
  }
  l265:;	
  {  int yypos266= yy->__pos, yythunkpos266= yy->__thunkpos;
  {  int yypos267= yy->__pos, yythunkpos267= yy->__thunkpos;  if (!yymatchChar(yy, '|')) goto l267;  goto l266;
  l267:;	  yy->__pos= yypos267; yy->__thunkpos= yythunkpos267;
  }
  {  int yypos268= yy->__pos, yythunkpos268= yy->__thunkpos;  if (!yy_close_image(yy)) goto l268;  goto l266;
  l268:;	  yy->__pos= yypos268; yy->__thunkpos= yythunkpos268;
  }  if (!yymatchDot(yy)) goto l266;  goto l265;
  l266:;	  yy->__pos= yypos266; yy->__thunkpos= yythunkpos266;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l264;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_image_link, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "image_link", yy->__buf+yy->__pos));
  return 1;
  l264:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "image_link", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_float(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "float"));
  {  int yypos270= yy->__pos, yythunkpos270= yy->__thunkpos;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l271;
#undef yytext
#undef yyleng
  }
  {  int yypos272= yy->__pos, yythunkpos272= yy->__thunkpos;  if (!yymatchString(yy, "left")) goto l273;  goto l272;
  l273:;	  yy->__pos= yypos272; yy->__thunkpos= yythunkpos272;  if (!yymatchString(yy, "right")) goto l274;  goto l272;
  l274:;	  yy->__pos= yypos272; yy->__thunkpos= yythunkpos272;  if (!yymatchString(yy, "center")) goto l271;
  }
  l272:;	  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l271;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_float, yy->__begin, yy->__end);  goto l270;
  l271:;	  yy->__pos= yypos270; yy->__thunkpos= yythunkpos270;  if (!yymatchString(yy, "none")) goto l269;
  }
  l270:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "float", yy->__buf+yy->__pos));
  return 1;
  l269:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "float", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_image_type(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "image_type"));
  {  int yypos276= yy->__pos, yythunkpos276= yy->__thunkpos;  if (!yy_frame(yy)) goto l277;  goto l276;
  l277:;	  yy->__pos= yypos276; yy->__thunkpos= yythunkpos276;  if (!yy_thumb(yy)) goto l275;
  }
  l276:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "image_type", yy->__buf+yy->__pos));
  return 1;
  l275:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "image_type", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_value(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "value"));  if (!yymatchChar(yy, '=')) goto l278;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l278;
#undef yytext
#undef yyleng
  }
  l279:;	
  {  int yypos280= yy->__pos, yythunkpos280= yy->__thunkpos;
  {  int yypos281= yy->__pos, yythunkpos281= yy->__thunkpos;  if (!yymatchChar(yy, '|')) goto l281;  goto l280;
  l281:;	  yy->__pos= yypos281; yy->__thunkpos= yythunkpos281;
  }
  {  int yypos282= yy->__pos, yythunkpos282= yy->__thunkpos;  if (!yy_close_image(yy)) goto l282;  goto l280;
  l282:;	  yy->__pos= yypos282; yy->__thunkpos= yythunkpos282;
  }  if (!yymatchDot(yy)) goto l280;  goto l279;
  l280:;	  yy->__pos= yypos280; yy->__thunkpos= yythunkpos280;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l278;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_value, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "value", yy->__buf+yy->__pos));
  return 1;
  l278:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "value", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_generic_variable(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "generic_variable"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l283;
#undef yytext
#undef yyleng
  }
  l284:;	
  {  int yypos285= yy->__pos, yythunkpos285= yy->__thunkpos;
  {  int yypos286= yy->__pos, yythunkpos286= yy->__thunkpos;  if (!yymatchChar(yy, '|')) goto l286;  goto l285;
  l286:;	  yy->__pos= yypos286; yy->__thunkpos= yythunkpos286;
  }
  {  int yypos287= yy->__pos, yythunkpos287= yy->__thunkpos;  if (!yymatchChar(yy, '=')) goto l287;  goto l285;
  l287:;	  yy->__pos= yypos287; yy->__thunkpos= yythunkpos287;
  }
  {  int yypos288= yy->__pos, yythunkpos288= yy->__thunkpos;  if (!yy_close_image(yy)) goto l288;  goto l285;
  l288:;	  yy->__pos= yypos288; yy->__thunkpos= yythunkpos288;
  }  if (!yymatchDot(yy)) goto l285;  goto l284;
  l285:;	  yy->__pos= yypos285; yy->__thunkpos= yythunkpos285;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l283;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_generic_variable, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "generic_variable", yy->__buf+yy->__pos));
  return 1;
  l283:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "generic_variable", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_special_image_variables(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "special_image_variables"));
  {  int yypos290= yy->__pos, yythunkpos290= yy->__thunkpos;  if (!yy_image_type(yy)) goto l291;  goto l290;
  l291:;	  yy->__pos= yypos290; yy->__thunkpos= yythunkpos290;  if (!yy_float(yy)) goto l292;  goto l290;
  l292:;	  yy->__pos= yypos290; yy->__thunkpos= yythunkpos290;  if (!yy_image_link(yy)) goto l293;  goto l290;
  l293:;	  yy->__pos= yypos290; yy->__thunkpos= yythunkpos290;  if (!yy_image_border(yy)) goto l294;  goto l290;
  l294:;	  yy->__pos= yypos290; yy->__thunkpos= yythunkpos290;  if (!yy_image_size(yy)) goto l289;
  }
  l290:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "special_image_variables", yy->__buf+yy->__pos));
  return 1;
  l289:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "special_image_variables", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_close_image(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "close_image"));
  l296:;	
  {  int yypos297= yy->__pos, yythunkpos297= yy->__thunkpos;  if (!yy_space(yy)) goto l297;  goto l296;
  l297:;	  yy->__pos= yypos297; yy->__thunkpos= yythunkpos297;
  }  if (!yymatchString(yy, "]]")) goto l295;
  yyprintf((stderr, "  ok   %s @ %s\n", "close_image", yy->__buf+yy->__pos));
  return 1;
  l295:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "close_image", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_image_caption(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "image_caption"));  if (!yymatchChar(yy, '|')) goto l298;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l298;
#undef yytext
#undef yyleng
  }
  l299:;	
  {  int yypos300= yy->__pos, yythunkpos300= yy->__thunkpos;
  l301:;	
  {  int yypos302= yy->__pos, yythunkpos302= yy->__thunkpos;  if (!yymatchString(yy, "[[")) goto l302;
  l303:;	
  {  int yypos304= yy->__pos, yythunkpos304= yy->__thunkpos;
  {  int yypos305= yy->__pos, yythunkpos305= yy->__thunkpos;  if (!yymatchString(yy, "]]")) goto l305;  goto l304;
  l305:;	  yy->__pos= yypos305; yy->__thunkpos= yythunkpos305;
  }  if (!yymatchDot(yy)) goto l304;  goto l303;
  l304:;	  yy->__pos= yypos304; yy->__thunkpos= yythunkpos304;
  }  if (!yymatchString(yy, "]]")) goto l302;  goto l301;
  l302:;	  yy->__pos= yypos302; yy->__thunkpos= yythunkpos302;
  }
  {  int yypos306= yy->__pos, yythunkpos306= yy->__thunkpos;  if (!yy_close_image(yy)) goto l306;  goto l300;
  l306:;	  yy->__pos= yypos306; yy->__thunkpos= yythunkpos306;
  }  if (!yymatchDot(yy)) goto l300;  goto l299;
  l300:;	  yy->__pos= yypos300; yy->__thunkpos= yythunkpos300;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l298;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_image_caption, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "image_caption", yy->__buf+yy->__pos));
  return 1;
  l298:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "image_caption", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_arguments(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "arguments"));  if (!yymatchChar(yy, '|')) goto l307;
  {  int yypos308= yy->__pos, yythunkpos308= yy->__thunkpos;  if (!yy_special_image_variables(yy)) goto l309;  goto l308;
  l309:;	  yy->__pos= yypos308; yy->__thunkpos= yythunkpos308;  if (!yy_generic_variable(yy)) goto l307;  if (!yy_value(yy)) goto l307;
  }
  l308:;	
  {  int yypos310= yy->__pos, yythunkpos310= yy->__thunkpos;  if (!yy_arguments(yy)) goto l310;  goto l311;
  l310:;	  yy->__pos= yypos310; yy->__thunkpos= yythunkpos310;
  }
  l311:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "arguments", yy->__buf+yy->__pos));
  return 1;
  l307:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "arguments", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_file_indicator(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "file_indicator"));
  {  int yypos313= yy->__pos, yythunkpos313= yy->__thunkpos;  if (!yymatchString(yy, "File:")) goto l314;  goto l313;
  l314:;	  yy->__pos= yypos313; yy->__thunkpos= yythunkpos313;  if (!yymatchString(yy, "Image:")) goto l315;  goto l313;
  l315:;	  yy->__pos= yypos313; yy->__thunkpos= yythunkpos313;  if (!yymatchString(yy, ":")) goto l316;  goto l313;
  l316:;	  yy->__pos= yypos313; yy->__thunkpos= yythunkpos313;  if (!yymatchString(yy, ":")) goto l312;
  }
  l313:;	  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l312;
#undef yytext
#undef yyleng
  }
  l317:;	
  {  int yypos318= yy->__pos, yythunkpos318= yy->__thunkpos;
  {  int yypos319= yy->__pos, yythunkpos319= yy->__thunkpos;  if (!yymatchChar(yy, '|')) goto l319;  goto l318;
  l319:;	  yy->__pos= yypos319; yy->__thunkpos= yythunkpos319;
  }
  {  int yypos320= yy->__pos, yythunkpos320= yy->__thunkpos;  if (!yy_close_image(yy)) goto l320;  goto l318;
  l320:;	  yy->__pos= yypos320; yy->__thunkpos= yythunkpos320;
  }  if (!yymatchDot(yy)) goto l318;  goto l317;
  l318:;	  yy->__pos= yypos318; yy->__thunkpos= yythunkpos318;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l312;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_file_indicator, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "file_indicator", yy->__buf+yy->__pos));
  return 1;
  l312:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "file_indicator", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_open_image(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "open_image"));  if (!yymatchString(yy, "[[")) goto l321;
  l322:;	
  {  int yypos323= yy->__pos, yythunkpos323= yy->__thunkpos;  if (!yy_space(yy)) goto l323;  goto l322;
  l323:;	  yy->__pos= yypos323; yy->__thunkpos= yythunkpos323;
  }
  yyprintf((stderr, "  ok   %s @ %s\n", "open_image", yy->__buf+yy->__pos));
  return 1;
  l321:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "open_image", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_protocol(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "protocol"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l324;
#undef yytext
#undef yyleng
  }
  {  int yypos325= yy->__pos, yythunkpos325= yy->__thunkpos;  if (!yymatchString(yy, "http")) goto l326;  goto l325;
  l326:;	  yy->__pos= yypos325; yy->__thunkpos= yythunkpos325;  if (!yymatchString(yy, "https")) goto l327;  goto l325;
  l327:;	  yy->__pos= yypos325; yy->__thunkpos= yythunkpos325;  if (!yymatchString(yy, "ftp")) goto l324;
  }
  l325:;	  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l324;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_protocol, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "protocol", yy->__buf+yy->__pos));
  return 1;
  l324:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "protocol", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_close_named_link(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "close_named_link"));  if (!yymatchChar(yy, ']')) goto l328;  yyDo(yy, yy_1_close_named_link, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "close_named_link", yy->__buf+yy->__pos));
  return 1;
  l328:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "close_named_link", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_link_name(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "link_name"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l329;
#undef yytext
#undef yyleng
  }
  {  int yypos332= yy->__pos, yythunkpos332= yy->__thunkpos;  if (!yymatchChar(yy, ']')) goto l332;  goto l329;
  l332:;	  yy->__pos= yypos332; yy->__thunkpos= yythunkpos332;
  }  if (!yymatchDot(yy)) goto l329;
  l330:;	
  {  int yypos331= yy->__pos, yythunkpos331= yy->__thunkpos;
  {  int yypos333= yy->__pos, yythunkpos333= yy->__thunkpos;  if (!yymatchChar(yy, ']')) goto l333;  goto l331;
  l333:;	  yy->__pos= yypos333; yy->__thunkpos= yythunkpos333;
  }  if (!yymatchDot(yy)) goto l331;  goto l330;
  l331:;	  yy->__pos= yypos331; yy->__thunkpos= yythunkpos331;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l329;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_link_name, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "link_name", yy->__buf+yy->__pos));
  return 1;
  l329:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "link_name", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_link_url(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "link_url"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l334;
#undef yytext
#undef yyleng
  }
  {  int yypos337= yy->__pos, yythunkpos337= yy->__thunkpos;  if (!yymatchChar(yy, ' ')) goto l337;  goto l334;
  l337:;	  yy->__pos= yypos337; yy->__thunkpos= yythunkpos337;
  }
  {  int yypos338= yy->__pos, yythunkpos338= yy->__thunkpos;  if (!yymatchChar(yy, ']')) goto l338;  goto l334;
  l338:;	  yy->__pos= yypos338; yy->__thunkpos= yythunkpos338;
  }  if (!yymatchDot(yy)) goto l334;
  l335:;	
  {  int yypos336= yy->__pos, yythunkpos336= yy->__thunkpos;
  {  int yypos339= yy->__pos, yythunkpos339= yy->__thunkpos;  if (!yymatchChar(yy, ' ')) goto l339;  goto l336;
  l339:;	  yy->__pos= yypos339; yy->__thunkpos= yythunkpos339;
  }
  {  int yypos340= yy->__pos, yythunkpos340= yy->__thunkpos;  if (!yymatchChar(yy, ']')) goto l340;  goto l336;
  l340:;	  yy->__pos= yypos340; yy->__thunkpos= yythunkpos340;
  }  if (!yymatchDot(yy)) goto l336;  goto l335;
  l336:;	  yy->__pos= yypos336; yy->__thunkpos= yythunkpos336;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l334;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_link_url, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "link_url", yy->__buf+yy->__pos));
  return 1;
  l334:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "link_url", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_open_named_link(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "open_named_link"));  if (!yymatchChar(yy, '[')) goto l341;
  {  int yypos342= yy->__pos, yythunkpos342= yy->__thunkpos;  if (!yymatchString(yy, "javascript:")) goto l342;  goto l341;
  l342:;	  yy->__pos= yypos342; yy->__thunkpos= yythunkpos342;
  }  yyDo(yy, yy_1_open_named_link, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "open_named_link", yy->__buf+yy->__pos));
  return 1;
  l341:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "open_named_link", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_url(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "url"));  if (!yy_protocol(yy)) goto l343;  if (!yymatchString(yy, "://")) goto l343;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l343;
#undef yytext
#undef yyleng
  }
  l344:;	
  {  int yypos345= yy->__pos, yythunkpos345= yy->__thunkpos;
  {  int yypos346= yy->__pos, yythunkpos346= yy->__thunkpos;  if (!yymatchChar(yy, '%')) goto l347;  if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\377\003\176\000\000\000\176\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l347;  if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\377\003\176\000\000\000\176\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l347;  goto l346;
  l347:;	  yy->__pos= yypos346; yy->__thunkpos= yythunkpos346;  if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\322\377\377\057\376\377\377\207\376\377\377\107\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l345;
  }
  l346:;	  goto l344;
  l345:;	  yy->__pos= yypos345; yy->__thunkpos= yythunkpos345;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l343;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_url, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "url", yy->__buf+yy->__pos));
  return 1;
  l343:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "url", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_unnamed_link(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "unnamed_link"));  if (!yymatchChar(yy, '[')) goto l348;
  {  int yypos349= yy->__pos, yythunkpos349= yy->__thunkpos;  if (!yymatchString(yy, "javascript:")) goto l349;  goto l348;
  l349:;	  yy->__pos= yypos349; yy->__thunkpos= yythunkpos349;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l348;
#undef yytext
#undef yyleng
  }
  l350:;	
  {  int yypos351= yy->__pos, yythunkpos351= yy->__thunkpos;
  {  int yypos352= yy->__pos, yythunkpos352= yy->__thunkpos;  if (!yymatchChar(yy, ']')) goto l352;  goto l351;
  l352:;	  yy->__pos= yypos352; yy->__thunkpos= yythunkpos352;
  }  if (!yymatchDot(yy)) goto l351;  goto l350;
  l351:;	  yy->__pos= yypos351; yy->__thunkpos= yythunkpos351;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l348;
#undef yytext
#undef yyleng
  }  if (!yymatchChar(yy, ']')) goto l348;  yyDo(yy, yy_1_unnamed_link, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "unnamed_link", yy->__buf+yy->__pos));
  return 1;
  l348:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "unnamed_link", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_named_link(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "named_link"));  if (!yy_open_named_link(yy)) goto l353;  if (!yy_link_url(yy)) goto l353;  yyDo(yy, yy_1_named_link, yy->__begin, yy->__end);  if (!yymatchChar(yy, ' ')) goto l353;
  l354:;	
  {  int yypos355= yy->__pos, yythunkpos355= yy->__thunkpos;  if (!yymatchChar(yy, ' ')) goto l355;  goto l354;
  l355:;	  yy->__pos= yypos355; yy->__thunkpos= yythunkpos355;
  }  if (!yy_link_name(yy)) goto l353;
  l356:;	
  {  int yypos357= yy->__pos, yythunkpos357= yy->__thunkpos;  if (!yy_link_name(yy)) goto l357;  goto l356;
  l357:;	  yy->__pos= yypos357; yy->__thunkpos= yythunkpos357;
  }
  l358:;	
  {  int yypos359= yy->__pos, yythunkpos359= yy->__thunkpos;  if (!yy_space(yy)) goto l359;  goto l358;
  l359:;	  yy->__pos= yypos359; yy->__thunkpos= yythunkpos359;
  }  if (!yy_close_named_link(yy)) goto l353;
  yyprintf((stderr, "  ok   %s @ %s\n", "named_link", yy->__buf+yy->__pos));
  return 1;
  l353:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "named_link", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_blend(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "blend"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l360;
#undef yytext
#undef yyleng
  }
  l361:;	
  {  int yypos362= yy->__pos, yythunkpos362= yy->__thunkpos;
  {  int yypos363= yy->__pos, yythunkpos363= yy->__thunkpos;  if (!yy_space(yy)) goto l363;  goto l362;
  l363:;	  yy->__pos= yypos363; yy->__thunkpos= yythunkpos363;
  }
  {  int yypos364= yy->__pos, yythunkpos364= yy->__thunkpos;  if (!yymatchChar(yy, '=')) goto l364;  goto l362;
  l364:;	  yy->__pos= yypos364; yy->__thunkpos= yythunkpos364;
  }
  {  int yypos365= yy->__pos, yythunkpos365= yy->__thunkpos;  if (!yymatchString(yy, "''")) goto l365;  goto l362;
  l365:;	  yy->__pos= yypos365; yy->__thunkpos= yythunkpos365;
  }
  {  int yypos366= yy->__pos, yythunkpos366= yy->__thunkpos;  if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\000\020\000\000\000\010\000\000\000\010\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l366;  goto l362;
  l366:;	  yy->__pos= yypos366; yy->__thunkpos= yythunkpos366;
  }
  {  int yypos367= yy->__pos, yythunkpos367= yy->__thunkpos;  if (!yy_eol(yy)) goto l367;  goto l362;
  l367:;	  yy->__pos= yypos367; yy->__thunkpos= yythunkpos367;
  }
  {  int yypos368= yy->__pos, yythunkpos368= yy->__thunkpos;  if (!yy_eof(yy)) goto l368;  goto l362;
  l368:;	  yy->__pos= yypos368; yy->__thunkpos= yythunkpos368;
  }  if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\000\000\000\000\000\000\000\000\376\377\377\007\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l362;  goto l361;
  l362:;	  yy->__pos= yypos362; yy->__thunkpos= yythunkpos362;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l360;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_blend, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "blend", yy->__buf+yy->__pos));
  return 1;
  l360:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "blend", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_link_close(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "link_close"));  if (!yymatchString(yy, "]]")) goto l369;
  yyprintf((stderr, "  ok   %s @ %s\n", "link_close", yy->__buf+yy->__pos));
  return 1;
  l369:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "link_close", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_rename(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "rename"));  if (!yymatchChar(yy, '|')) goto l370;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l370;
#undef yytext
#undef yyleng
  }
  l371:;	
  {  int yypos372= yy->__pos, yythunkpos372= yy->__thunkpos;
  {  int yypos373= yy->__pos, yythunkpos373= yy->__thunkpos;  if (!yy_link_close(yy)) goto l373;  goto l372;
  l373:;	  yy->__pos= yypos373; yy->__thunkpos= yythunkpos373;
  }  if (!yymatchDot(yy)) goto l372;  goto l371;
  l372:;	  yy->__pos= yypos372; yy->__thunkpos= yythunkpos372;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l370;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_rename, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "rename", yy->__buf+yy->__pos));
  return 1;
  l370:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "rename", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_link_path(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "link_path"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l374;
#undef yytext
#undef yyleng
  }
  l375:;	
  {  int yypos376= yy->__pos, yythunkpos376= yy->__thunkpos;
  {  int yypos377= yy->__pos, yythunkpos377= yy->__thunkpos;  if (!yy_link_close(yy)) goto l377;  goto l376;
  l377:;	  yy->__pos= yypos377; yy->__thunkpos= yythunkpos377;
  }
  {  int yypos378= yy->__pos, yythunkpos378= yy->__thunkpos;  if (!yymatchChar(yy, '|')) goto l378;  goto l376;
  l378:;	  yy->__pos= yypos378; yy->__thunkpos= yythunkpos378;
  }  if (!yymatchDot(yy)) goto l376;  goto l375;
  l376:;	  yy->__pos= yypos376; yy->__thunkpos= yythunkpos376;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l374;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_link_path, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "link_path", yy->__buf+yy->__pos));
  return 1;
  l374:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "link_path", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_namespace(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "namespace"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l379;
#undef yytext
#undef yyleng
  }
  l380:;	
  {  int yypos381= yy->__pos, yythunkpos381= yy->__thunkpos;
  {  int yypos382= yy->__pos, yythunkpos382= yy->__thunkpos;  if (!yymatchChar(yy, ':')) goto l382;  goto l381;
  l382:;	  yy->__pos= yypos382; yy->__thunkpos= yythunkpos382;
  }
  {  int yypos383= yy->__pos, yythunkpos383= yy->__thunkpos;  if (!yy_link_close(yy)) goto l383;  goto l381;
  l383:;	  yy->__pos= yypos383; yy->__thunkpos= yythunkpos383;
  }  if (!yymatchDot(yy)) goto l381;  goto l380;
  l381:;	  yy->__pos= yypos381; yy->__thunkpos= yythunkpos381;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l379;
#undef yytext
#undef yyleng
  }  if (!yymatchChar(yy, ':')) goto l379;  yyDo(yy, yy_1_namespace, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "namespace", yy->__buf+yy->__pos));
  return 1;
  l379:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "namespace", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_link_open(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "link_open"));  if (!yymatchString(yy, "[[")) goto l384;
  yyprintf((stderr, "  ok   %s @ %s\n", "link_open", yy->__buf+yy->__pos));
  return 1;
  l384:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "link_open", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_external_link(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "external_link"));
  {  int yypos386= yy->__pos, yythunkpos386= yy->__thunkpos;  if (!yy_named_link(yy)) goto l387;  goto l386;
  l387:;	  yy->__pos= yypos386; yy->__thunkpos= yythunkpos386;  if (!yy_unnamed_link(yy)) goto l388;  goto l386;
  l388:;	  yy->__pos= yypos386; yy->__thunkpos= yythunkpos386;  if (!yy_url(yy)) goto l385;
  }
  l386:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "external_link", yy->__buf+yy->__pos));
  return 1;
  l385:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "external_link", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_local_link(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "local_link"));  if (!yy_link_open(yy)) goto l389;
  {  int yypos390= yy->__pos, yythunkpos390= yy->__thunkpos;  if (!yymatchChar(yy, ':')) goto l390;  goto l391;
  l390:;	  yy->__pos= yypos390; yy->__thunkpos= yythunkpos390;
  }
  l391:;	
  {  int yypos392= yy->__pos, yythunkpos392= yy->__thunkpos;  if (!yy_namespace(yy)) goto l392;  goto l393;
  l392:;	  yy->__pos= yypos392; yy->__thunkpos= yythunkpos392;
  }
  l393:;	  if (!yy_link_path(yy)) goto l389;
  {  int yypos394= yy->__pos, yythunkpos394= yy->__thunkpos;  if (!yy_rename(yy)) goto l394;  goto l395;
  l394:;	  yy->__pos= yypos394; yy->__thunkpos= yythunkpos394;
  }
  l395:;	  if (!yy_link_close(yy)) goto l389;  if (!yy_blend(yy)) goto l389;  yyDo(yy, yy_1_local_link, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "local_link", yy->__buf+yy->__pos));
  return 1;
  l389:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "local_link", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_html_code_close(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "html_code_close"));
  {  int yypos397= yy->__pos, yythunkpos397= yy->__thunkpos;  if (!yymatchString(yy, "</code>")) goto l398;  goto l397;
  l398:;	  yy->__pos= yypos397; yy->__thunkpos= yythunkpos397;  if (!yymatchString(yy, "</CODE>")) goto l396;
  }
  l397:;	  yyDo(yy, yy_1_html_code_close, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "html_code_close", yy->__buf+yy->__pos));
  return 1;
  l396:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "html_code_close", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_html_pre_close(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "html_pre_close"));
  {  int yypos400= yy->__pos, yythunkpos400= yy->__thunkpos;  if (!yymatchString(yy, "</pre>")) goto l401;  goto l400;
  l401:;	  yy->__pos= yypos400; yy->__thunkpos= yythunkpos400;  if (!yymatchString(yy, "</PRE>")) goto l399;
  }
  l400:;	  yyDo(yy, yy_1_html_pre_close, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "html_pre_close", yy->__buf+yy->__pos));
  return 1;
  l399:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "html_pre_close", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_nowiki_close_tag(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "nowiki_close_tag"));  if (!yymatchString(yy, "</nowiki>")) goto l402;
  yyprintf((stderr, "  ok   %s @ %s\n", "nowiki_close_tag", yy->__buf+yy->__pos));
  return 1;
  l402:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "nowiki_close_tag", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_html_code_open(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "html_code_open"));
  {  int yypos404= yy->__pos, yythunkpos404= yy->__thunkpos;  if (!yymatchString(yy, "<code")) goto l405;
  l406:;	
  {  int yypos407= yy->__pos, yythunkpos407= yy->__thunkpos;
  {  int yypos408= yy->__pos, yythunkpos408= yy->__thunkpos;  if (!yymatchChar(yy, '>')) goto l408;  goto l407;
  l408:;	  yy->__pos= yypos408; yy->__thunkpos= yythunkpos408;
  }  if (!yymatchDot(yy)) goto l407;  goto l406;
  l407:;	  yy->__pos= yypos407; yy->__thunkpos= yythunkpos407;
  }  if (!yymatchChar(yy, '>')) goto l405;  goto l404;
  l405:;	  yy->__pos= yypos404; yy->__thunkpos= yythunkpos404;  if (!yymatchString(yy, "<CODE>")) goto l403;
  }
  l404:;	  yyDo(yy, yy_1_html_code_open, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "html_code_open", yy->__buf+yy->__pos));
  return 1;
  l403:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "html_code_open", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_html_pre_open(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "html_pre_open"));
  {  int yypos410= yy->__pos, yythunkpos410= yy->__thunkpos;  if (!yymatchString(yy, "<pre")) goto l411;
  l412:;	
  {  int yypos413= yy->__pos, yythunkpos413= yy->__thunkpos;
  {  int yypos414= yy->__pos, yythunkpos414= yy->__thunkpos;  if (!yymatchChar(yy, '>')) goto l414;  goto l413;
  l414:;	  yy->__pos= yypos414; yy->__thunkpos= yythunkpos414;
  }  if (!yymatchDot(yy)) goto l413;  goto l412;
  l413:;	  yy->__pos= yypos413; yy->__thunkpos= yythunkpos413;
  }  if (!yymatchChar(yy, '>')) goto l411;  goto l410;
  l411:;	  yy->__pos= yypos410; yy->__thunkpos= yythunkpos410;  if (!yymatchString(yy, "<PRE>")) goto l409;
  }
  l410:;	  yyDo(yy, yy_1_html_pre_open, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "html_pre_open", yy->__buf+yy->__pos));
  return 1;
  l409:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "html_pre_open", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_nowiki_open_tag(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "nowiki_open_tag"));  if (!yymatchString(yy, "<nowiki>")) goto l415;
  yyprintf((stderr, "  ok   %s @ %s\n", "nowiki_open_tag", yy->__buf+yy->__pos));
  return 1;
  l415:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "nowiki_open_tag", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_nowiki_close(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "nowiki_close"));
  {  int yypos417= yy->__pos, yythunkpos417= yy->__thunkpos;  if (!yy_nowiki_close_tag(yy)) goto l418;  goto l417;
  l418:;	  yy->__pos= yypos417; yy->__thunkpos= yythunkpos417;  if (!yy_html_pre_close(yy)) goto l419;  goto l417;
  l419:;	  yy->__pos= yypos417; yy->__thunkpos= yythunkpos417;  if (!yy_html_code_close(yy)) goto l416;
  }
  l417:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "nowiki_close", yy->__buf+yy->__pos));
  return 1;
  l416:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "nowiki_close", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_nowiki_open(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "nowiki_open"));
  {  int yypos421= yy->__pos, yythunkpos421= yy->__thunkpos;  if (!yy_nowiki_open_tag(yy)) goto l422;  goto l421;
  l422:;	  yy->__pos= yypos421; yy->__thunkpos= yythunkpos421;  if (!yy_html_pre_open(yy)) goto l423;  goto l421;
  l423:;	  yy->__pos= yypos421; yy->__thunkpos= yythunkpos421;  if (!yy_html_code_open(yy)) goto l420;
  }
  l421:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "nowiki_open", yy->__buf+yy->__pos));
  return 1;
  l420:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "nowiki_open", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_pre_line(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "pre_line"));  if (!yymatchChar(yy, ' ')) goto l424;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l424;
#undef yytext
#undef yyleng
  }
  l425:;	
  {  int yypos426= yy->__pos, yythunkpos426= yy->__thunkpos;
  {  int yypos427= yy->__pos, yythunkpos427= yy->__thunkpos;  if (!yy_eol(yy)) goto l427;  goto l426;
  l427:;	  yy->__pos= yypos427; yy->__thunkpos= yythunkpos427;
  }  if (!yymatchDot(yy)) goto l426;  goto l425;
  l426:;	  yy->__pos= yypos426; yy->__thunkpos= yythunkpos426;
  }
  {  int yypos428= yy->__pos, yythunkpos428= yy->__thunkpos;  if (!yy_eol(yy)) goto l429;  goto l428;
  l429:;	  yy->__pos= yypos428; yy->__thunkpos= yythunkpos428;  if (!yy_eof(yy)) goto l424;
  }
  l428:;	  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l424;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_pre_line, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "pre_line", yy->__buf+yy->__pos));
  return 1;
  l424:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "pre_line", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_italic(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "italic"));  if (!yymatchString(yy, "''")) goto l430;  yyDo(yy, yy_1_italic, yy->__begin, yy->__end);
  l431:;	
  {  int yypos432= yy->__pos, yythunkpos432= yy->__thunkpos;
  {  int yypos433= yy->__pos, yythunkpos433= yy->__thunkpos;  if (!yymatchString(yy, "''")) goto l433;  goto l432;
  l433:;	  yy->__pos= yypos433; yy->__thunkpos= yythunkpos433;
  }  if (!yy_wikitext(yy)) goto l432;  goto l431;
  l432:;	  yy->__pos= yypos432; yy->__thunkpos= yythunkpos432;
  }  if (!yymatchString(yy, "''")) goto l430;  yyDo(yy, yy_2_italic, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "italic", yy->__buf+yy->__pos));
  return 1;
  l430:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "italic", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_bold(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "bold"));  if (!yymatchString(yy, "'''")) goto l434;  yyDo(yy, yy_1_bold, yy->__begin, yy->__end);
  l435:;	
  {  int yypos436= yy->__pos, yythunkpos436= yy->__thunkpos;
  {  int yypos437= yy->__pos, yythunkpos437= yy->__thunkpos;  if (!yymatchString(yy, "'''")) goto l437;  goto l436;
  l437:;	  yy->__pos= yypos437; yy->__thunkpos= yythunkpos437;
  }  if (!yy_wikitext(yy)) goto l436;  goto l435;
  l436:;	  yy->__pos= yypos436; yy->__thunkpos= yythunkpos436;
  }  if (!yymatchString(yy, "'''")) goto l434;  yyDo(yy, yy_2_bold, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "bold", yy->__buf+yy->__pos));
  return 1;
  l434:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "bold", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_bold_italic(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "bold_italic"));  if (!yymatchString(yy, "'''''")) goto l438;  yyDo(yy, yy_1_bold_italic, yy->__begin, yy->__end);
  l439:;	
  {  int yypos440= yy->__pos, yythunkpos440= yy->__thunkpos;
  {  int yypos441= yy->__pos, yythunkpos441= yy->__thunkpos;  if (!yymatchString(yy, "'''''")) goto l441;  goto l440;
  l441:;	  yy->__pos= yypos441; yy->__thunkpos= yythunkpos441;
  }  if (!yy_wikitext(yy)) goto l440;  goto l439;
  l440:;	  yy->__pos= yypos440; yy->__thunkpos= yythunkpos440;
  }  if (!yymatchString(yy, "'''''")) goto l438;  yyDo(yy, yy_2_bold_italic, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "bold_italic", yy->__buf+yy->__pos));
  return 1;
  l438:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "bold_italic", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_numbered(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "numbered"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l442;
#undef yytext
#undef yyleng
  }  if (!yymatchChar(yy, '#')) goto l442;
  l443:;	
  {  int yypos444= yy->__pos, yythunkpos444= yy->__thunkpos;  if (!yymatchChar(yy, '#')) goto l444;  goto l443;
  l444:;	  yy->__pos= yypos444; yy->__thunkpos= yythunkpos444;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l442;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_numbered, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "numbered", yy->__buf+yy->__pos));
  return 1;
  l442:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "numbered", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_numbered_list_entry(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "numbered_list_entry"));  if (!yy_numbered(yy)) goto l445;
  l446:;	
  {  int yypos447= yy->__pos, yythunkpos447= yy->__thunkpos;  if (!yy_space(yy)) goto l447;  goto l446;
  l447:;	  yy->__pos= yypos447; yy->__thunkpos= yythunkpos447;
  }  if (!yy_list_text(yy)) goto l445;
  {  int yypos448= yy->__pos, yythunkpos448= yy->__thunkpos;  if (!yy_eol(yy)) goto l448;  goto l449;
  l448:;	  yy->__pos= yypos448; yy->__thunkpos= yythunkpos448;
  }
  l449:;	  yyDo(yy, yy_1_numbered_list_entry, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "numbered_list_entry", yy->__buf+yy->__pos));
  return 1;
  l445:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "numbered_list_entry", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_definition(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "definition"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l450;
#undef yytext
#undef yyleng
  }  if (!yymatchChar(yy, ':')) goto l450;
  l451:;	
  {  int yypos452= yy->__pos, yythunkpos452= yy->__thunkpos;  if (!yymatchChar(yy, ':')) goto l452;  goto l451;
  l452:;	  yy->__pos= yypos452; yy->__thunkpos= yythunkpos452;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l450;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_definition, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "definition", yy->__buf+yy->__pos));
  return 1;
  l450:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "definition", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_definition_list_entry(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "definition_list_entry"));  if (!yy_definition(yy)) goto l453;
  l454:;	
  {  int yypos455= yy->__pos, yythunkpos455= yy->__thunkpos;  if (!yy_space(yy)) goto l455;  goto l454;
  l455:;	  yy->__pos= yypos455; yy->__thunkpos= yythunkpos455;
  }  if (!yy_list_text(yy)) goto l453;
  {  int yypos456= yy->__pos, yythunkpos456= yy->__thunkpos;  if (!yy_eol(yy)) goto l457;  goto l456;
  l457:;	  yy->__pos= yypos456; yy->__thunkpos= yythunkpos456;  if (!yy_eof(yy)) goto l453;
  }
  l456:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "definition_list_entry", yy->__buf+yy->__pos));
  return 1;
  l453:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "definition_list_entry", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_bullet(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "bullet"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l458;
#undef yytext
#undef yyleng
  }  if (!yymatchChar(yy, '*')) goto l458;
  l459:;	
  {  int yypos460= yy->__pos, yythunkpos460= yy->__thunkpos;  if (!yymatchChar(yy, '*')) goto l460;  goto l459;
  l460:;	  yy->__pos= yypos460; yy->__thunkpos= yythunkpos460;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l458;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_bullet, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "bullet", yy->__buf+yy->__pos));
  return 1;
  l458:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "bullet", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_bullet_list_entry(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "bullet_list_entry"));  if (!yy_bullet(yy)) goto l461;
  l462:;	
  {  int yypos463= yy->__pos, yythunkpos463= yy->__thunkpos;  if (!yy_space(yy)) goto l463;  goto l462;
  l463:;	  yy->__pos= yypos463; yy->__thunkpos= yythunkpos463;
  }  if (!yy_list_text(yy)) goto l461;
  {  int yypos464= yy->__pos, yythunkpos464= yy->__thunkpos;  if (!yy_eol(yy)) goto l465;  goto l464;
  l465:;	  yy->__pos= yypos464; yy->__thunkpos= yythunkpos464;  if (!yy_eof(yy)) goto l461;
  }
  l464:;	  yyDo(yy, yy_1_bullet_list_entry, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "bullet_list_entry", yy->__buf+yy->__pos));
  return 1;
  l461:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "bullet_list_entry", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_list_text(yycontext *yy)
{
  yyprintf((stderr, "%s\n", "list_text"));
  l467:;	
  {  int yypos468= yy->__pos, yythunkpos468= yy->__thunkpos;
  {  int yypos469= yy->__pos, yythunkpos469= yy->__thunkpos;  if (!yy_eol(yy)) goto l469;  goto l468;
  l469:;	  yy->__pos= yypos469; yy->__thunkpos= yythunkpos469;
  }
  {  int yypos470= yy->__pos, yythunkpos470= yy->__thunkpos;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l471;
#undef yytext
#undef yyleng
  }  if (!yymatchClass(yy, (unsigned char *)"\000\000\000\000\010\004\000\004\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l471;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l471;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_list_text, yy->__begin, yy->__end);  goto l470;
  l471:;	  yy->__pos= yypos470; yy->__thunkpos= yythunkpos470;  if (!yy_wikitext(yy)) goto l468;
  }
  l470:;	  goto l467;
  l468:;	  yy->__pos= yypos468; yy->__thunkpos= yythunkpos468;
  }
  yyprintf((stderr, "  ok   %s @ %s\n", "list_text", yy->__buf+yy->__pos));
  return 1;
}
YY_RULE(int) yy_definition_list(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "definition_list"));  yyDo(yy, yy_1_definition_list, yy->__begin, yy->__end);  if (!yy_definition_list_entry(yy)) goto l472;
  l473:;	
  {  int yypos474= yy->__pos, yythunkpos474= yy->__thunkpos;  if (!yy_definition_list_entry(yy)) goto l474;  goto l473;
  l474:;	  yy->__pos= yypos474; yy->__thunkpos= yythunkpos474;
  }  yyDo(yy, yy_2_definition_list, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "definition_list", yy->__buf+yy->__pos));
  return 1;
  l472:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "definition_list", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_numbered_list(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "numbered_list"));  yyDo(yy, yy_1_numbered_list, yy->__begin, yy->__end);  if (!yy_numbered_list_entry(yy)) goto l475;
  l476:;	
  {  int yypos477= yy->__pos, yythunkpos477= yy->__thunkpos;  if (!yy_numbered_list_entry(yy)) goto l477;  goto l476;
  l477:;	  yy->__pos= yypos477; yy->__thunkpos= yythunkpos477;
  }  yyDo(yy, yy_2_numbered_list, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "numbered_list", yy->__buf+yy->__pos));
  return 1;
  l475:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "numbered_list", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_bullet_list(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "bullet_list"));  yyDo(yy, yy_1_bullet_list, yy->__begin, yy->__end);  if (!yy_bullet_list_entry(yy)) goto l478;
  l479:;	
  {  int yypos480= yy->__pos, yythunkpos480= yy->__thunkpos;  if (!yy_bullet_list_entry(yy)) goto l480;  goto l479;
  l480:;	  yy->__pos= yypos480; yy->__thunkpos= yythunkpos480;
  }  yyDo(yy, yy_2_bullet_list, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "bullet_list", yy->__buf+yy->__pos));
  return 1;
  l478:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "bullet_list", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_heading_text(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "heading_text"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l481;
#undef yytext
#undef yyleng
  }
  l482:;	
  {  int yypos483= yy->__pos, yythunkpos483= yy->__thunkpos;
  {  int yypos484= yy->__pos, yythunkpos484= yy->__thunkpos;  if (!yy_heading_marker(yy)) goto l484;  goto l483;
  l484:;	  yy->__pos= yypos484; yy->__thunkpos= yythunkpos484;
  }
  {  int yypos485= yy->__pos, yythunkpos485= yy->__thunkpos;  if (!yy_formatting(yy)) goto l486;  goto l485;
  l486:;	  yy->__pos= yypos485; yy->__thunkpos= yythunkpos485;  if (!yy_link(yy)) goto l487;  goto l485;
  l487:;	  yy->__pos= yypos485; yy->__thunkpos= yythunkpos485;  if (!yy_anything_else(yy)) goto l483;
  }
  l485:;	  goto l482;
  l483:;	  yy->__pos= yypos483; yy->__thunkpos= yythunkpos483;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l481;
#undef yytext
#undef yyleng
  }
  yyprintf((stderr, "  ok   %s @ %s\n", "heading_text", yy->__buf+yy->__pos));
  return 1;
  l481:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "heading_text", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_heading_marker(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "heading_marker"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l488;
#undef yytext
#undef yyleng
  }  if (!yymatchChar(yy, '=')) goto l488;  if (!yymatchChar(yy, '=')) goto l488;
  l489:;	
  {  int yypos490= yy->__pos, yythunkpos490= yy->__thunkpos;  if (!yymatchChar(yy, '=')) goto l490;  goto l489;
  l490:;	  yy->__pos= yypos490; yy->__thunkpos= yythunkpos490;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l488;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_heading_marker, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "heading_marker", yy->__buf+yy->__pos));
  return 1;
  l488:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "heading_marker", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_space(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "space"));  if (!yymatchClass(yy, (unsigned char *)"\000\002\000\000\001\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000")) goto l491;
  yyprintf((stderr, "  ok   %s @ %s\n", "space", yy->__buf+yy->__pos));
  return 1;
  l491:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "space", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_eof(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "eof"));
  {  int yypos493= yy->__pos, yythunkpos493= yy->__thunkpos;  if (!yymatchDot(yy)) goto l493;  goto l492;
  l493:;	  yy->__pos= yypos493; yy->__thunkpos= yythunkpos493;
  }
  yyprintf((stderr, "  ok   %s @ %s\n", "eof", yy->__buf+yy->__pos));
  return 1;
  l492:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "eof", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_eol(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "eol"));
  {  int yypos495= yy->__pos, yythunkpos495= yy->__thunkpos;  if (!yymatchChar(yy, '\r')) goto l495;  goto l496;
  l495:;	  yy->__pos= yypos495; yy->__thunkpos= yythunkpos495;
  }
  l496:;	  if (!yymatchChar(yy, '\n')) goto l494;  yyDo(yy, yy_1_eol, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "eol", yy->__buf+yy->__pos));
  return 1;
  l494:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "eol", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_anything_else(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "anything_else"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l497;
#undef yytext
#undef yyleng
  }
  {  int yypos498= yy->__pos, yythunkpos498= yy->__thunkpos;  if (!yy_eol(yy)) goto l498;  goto l497;
  l498:;	  yy->__pos= yypos498; yy->__thunkpos= yythunkpos498;
  }  if (!yymatchDot(yy)) goto l497;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l497;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_anything_else, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "anything_else", yy->__buf+yy->__pos));
  return 1;
  l497:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "anything_else", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_angle_brackets(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "angle_brackets"));
  {  int yypos500= yy->__pos, yythunkpos500= yy->__thunkpos;  if (!yy_angle_left(yy)) goto l501;  goto l500;
  l501:;	  yy->__pos= yypos500; yy->__thunkpos= yythunkpos500;  if (!yy_angle_right(yy)) goto l499;
  }
  l500:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "angle_brackets", yy->__buf+yy->__pos));
  return 1;
  l499:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "angle_brackets", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_table(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "table"));  if (!yy_table_open(yy)) goto l502;
  l503:;	
  {  int yypos504= yy->__pos, yythunkpos504= yy->__thunkpos;  if (!yy_eol(yy)) goto l504;  goto l503;
  l504:;	  yy->__pos= yypos504; yy->__thunkpos= yythunkpos504;
  }
  {  int yypos505= yy->__pos, yythunkpos505= yy->__thunkpos;  if (!yy_table_caption(yy)) goto l505;  goto l506;
  l505:;	  yy->__pos= yypos505; yy->__thunkpos= yythunkpos505;
  }
  l506:;	
  l507:;	
  {  int yypos508= yy->__pos, yythunkpos508= yy->__thunkpos;
  {  int yypos509= yy->__pos, yythunkpos509= yy->__thunkpos;  if (!yy_table_row(yy)) goto l510;  goto l509;
  l510:;	  yy->__pos= yypos509; yy->__thunkpos= yythunkpos509;  if (!yy_table_headers(yy)) goto l511;  goto l509;
  l511:;	  yy->__pos= yypos509; yy->__thunkpos= yythunkpos509;  if (!yy_pseudo_row(yy)) goto l508;
  }
  l509:;	  goto l507;
  l508:;	  yy->__pos= yypos508; yy->__thunkpos= yythunkpos508;
  }
  l512:;	
  {  int yypos513= yy->__pos, yythunkpos513= yy->__thunkpos;  if (!yy_eol(yy)) goto l513;  goto l512;
  l513:;	  yy->__pos= yypos513; yy->__thunkpos= yythunkpos513;
  }  yyDo(yy, yy_1_table, yy->__begin, yy->__end);
  {  int yypos514= yy->__pos, yythunkpos514= yy->__thunkpos;  if (!yy_table_close(yy)) goto l514;  goto l515;
  l514:;	  yy->__pos= yypos514; yy->__thunkpos= yythunkpos514;
  }
  l515:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "table", yy->__buf+yy->__pos));
  return 1;
  l502:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "table", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_link(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "link"));
  {  int yypos517= yy->__pos, yythunkpos517= yy->__thunkpos;  if (!yy_local_link(yy)) goto l518;  goto l517;
  l518:;	  yy->__pos= yypos517; yy->__thunkpos= yythunkpos517;  if (!yy_external_link(yy)) goto l516;
  }
  l517:;	  yyDo(yy, yy_1_link, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "link", yy->__buf+yy->__pos));
  return 1;
  l516:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "link", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_image(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "image"));  if (!yy_open_image(yy)) goto l519;  yyDo(yy, yy_1_image, yy->__begin, yy->__end);  if (!yy_file_indicator(yy)) goto l519;
  {  int yypos520= yy->__pos, yythunkpos520= yy->__thunkpos;  if (!yy_arguments(yy)) goto l520;  goto l521;
  l520:;	  yy->__pos= yypos520; yy->__thunkpos= yythunkpos520;
  }
  l521:;	
  {  int yypos522= yy->__pos, yythunkpos522= yy->__thunkpos;  if (!yy_image_caption(yy)) goto l522;  goto l523;
  l522:;	  yy->__pos= yypos522; yy->__thunkpos= yythunkpos522;
  }
  l523:;	  if (!yy_close_image(yy)) goto l519;  yyDo(yy, yy_2_image, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "image", yy->__buf+yy->__pos));
  return 1;
  l519:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "image", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_formatting(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "formatting"));
  {  int yypos525= yy->__pos, yythunkpos525= yy->__thunkpos;  if (!yy_bold_italic(yy)) goto l526;  goto l525;
  l526:;	  yy->__pos= yypos525; yy->__thunkpos= yythunkpos525;  if (!yy_bold(yy)) goto l527;  goto l525;
  l527:;	  yy->__pos= yypos525; yy->__thunkpos= yythunkpos525;  if (!yy_italic(yy)) goto l524;
  }
  l525:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "formatting", yy->__buf+yy->__pos));
  return 1;
  l524:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "formatting", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_list(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "list"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!( start_of_line )) goto l528;
#undef yytext
#undef yyleng
  }
  {  int yypos529= yy->__pos, yythunkpos529= yy->__thunkpos;  if (!yy_bullet_list(yy)) goto l530;  goto l529;
  l530:;	  yy->__pos= yypos529; yy->__thunkpos= yythunkpos529;  if (!yy_numbered_list(yy)) goto l531;  goto l529;
  l531:;	  yy->__pos= yypos529; yy->__thunkpos= yythunkpos529;  if (!yy_definition_list(yy)) goto l528;
  }
  l529:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "list", yy->__buf+yy->__pos));
  return 1;
  l528:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "list", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_heading(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "heading"));  if (!yy_heading_marker(yy)) goto l532;  yyDo(yy, yy_1_heading, yy->__begin, yy->__end);
  l533:;	
  {  int yypos534= yy->__pos, yythunkpos534= yy->__thunkpos;  if (!yy_space(yy)) goto l534;  goto l533;
  l534:;	  yy->__pos= yypos534; yy->__thunkpos= yythunkpos534;
  }  if (!yy_heading_text(yy)) goto l532;
  {  int yypos535= yy->__pos, yythunkpos535= yy->__thunkpos;  if (!yy_heading_marker(yy)) goto l535;  goto l536;
  l535:;	  yy->__pos= yypos535; yy->__thunkpos= yythunkpos535;
  }
  l536:;	
  l537:;	
  {  int yypos538= yy->__pos, yythunkpos538= yy->__thunkpos;  if (!yy_space(yy)) goto l538;  goto l537;
  l538:;	  yy->__pos= yypos538; yy->__thunkpos= yythunkpos538;
  }
  {  int yypos539= yy->__pos, yythunkpos539= yy->__thunkpos;  if (!yy_eol(yy)) goto l540;  goto l539;
  l540:;	  yy->__pos= yypos539; yy->__thunkpos= yythunkpos539;  if (!yy_eof(yy)) goto l532;
  }
  l539:;	  yyDo(yy, yy_2_heading, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "heading", yy->__buf+yy->__pos));
  return 1;
  l532:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "heading", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_template(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "template"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(!template_noinclude)) goto l541;
#undef yytext
#undef yyleng
  }  if (!yy_template_open(yy)) goto l541;
  l542:;	
  {  int yypos543= yy->__pos, yythunkpos543= yy->__thunkpos;  if (!yy_space(yy)) goto l543;  goto l542;
  l543:;	  yy->__pos= yypos543; yy->__thunkpos= yythunkpos543;
  }  if (!yy_template_name(yy)) goto l541;
  {  int yypos544= yy->__pos, yythunkpos544= yy->__thunkpos;  if (!yy_template_content(yy)) goto l544;  goto l545;
  l544:;	  yy->__pos= yypos544; yy->__thunkpos= yythunkpos544;
  }
  l545:;	  if (!yy_template_close(yy)) goto l541;
  yyprintf((stderr, "  ok   %s @ %s\n", "template", yy->__buf+yy->__pos));
  return 1;
  l541:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "template", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_template_variable(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "template_variable"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l546;
#undef yytext
#undef yyleng
  }  if (!yymatchString(yy, "{{{")) goto l546;
  l547:;	
  {  int yypos548= yy->__pos, yythunkpos548= yy->__thunkpos;
  {  int yypos549= yy->__pos, yythunkpos549= yy->__thunkpos;  if (!yymatchString(yy, "}}}")) goto l549;  goto l548;
  l549:;	  yy->__pos= yypos549; yy->__thunkpos= yythunkpos549;
  }
  {  int yypos550= yy->__pos, yythunkpos550= yy->__thunkpos;  if (!yy_eol(yy)) goto l550;  goto l548;
  l550:;	  yy->__pos= yypos550; yy->__thunkpos= yythunkpos550;
  }
  {  int yypos551= yy->__pos, yythunkpos551= yy->__thunkpos;  if (!yy_eof(yy)) goto l551;  goto l548;
  l551:;	  yy->__pos= yypos551; yy->__thunkpos= yythunkpos551;
  }  if (!yymatchDot(yy)) goto l548;  goto l547;
  l548:;	  yy->__pos= yypos548; yy->__thunkpos= yythunkpos548;
  }  if (!yymatchString(yy, "}}}")) goto l546;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l546;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_template_variable, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "template_variable", yy->__buf+yy->__pos));
  return 1;
  l546:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "template_variable", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_table_of_contents(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "table_of_contents"));
  {  int yypos553= yy->__pos, yythunkpos553= yy->__thunkpos;  if (!yy_notoc(yy)) goto l554;  goto l553;
  l554:;	  yy->__pos= yypos553; yy->__thunkpos= yythunkpos553;  if (!yy_toc(yy)) goto l555;  goto l553;
  l555:;	  yy->__pos= yypos553; yy->__thunkpos= yythunkpos553;  if (!yy_forcetoc(yy)) goto l552;
  }
  l553:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "table_of_contents", yy->__buf+yy->__pos));
  return 1;
  l552:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "table_of_contents", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_html(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "html"));  if (!yy_tag_open(yy)) goto l556;  if (!yy_tag(yy)) goto l556;
  {  int yypos557= yy->__pos, yythunkpos557= yy->__thunkpos;  if (!yy_tag_attributes_list(yy)) goto l557;  goto l558;
  l557:;	  yy->__pos= yypos557; yy->__thunkpos= yythunkpos557;
  }
  l558:;	  if (!yy_tag_close(yy)) goto l556;
  yyprintf((stderr, "  ok   %s @ %s\n", "html", yy->__buf+yy->__pos));
  return 1;
  l556:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "html", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_comment(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "comment"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l559;
#undef yytext
#undef yyleng
  }  if (!yy_comment_open(yy)) goto l559;
  l560:;	
  {  int yypos561= yy->__pos, yythunkpos561= yy->__thunkpos;
  {  int yypos562= yy->__pos, yythunkpos562= yy->__thunkpos;  if (!yy_comment_close(yy)) goto l562;  goto l561;
  l562:;	  yy->__pos= yypos562; yy->__thunkpos= yythunkpos562;
  }  if (!yymatchDot(yy)) goto l561;  goto l560;
  l561:;	  yy->__pos= yypos561; yy->__thunkpos= yythunkpos561;
  }  if (!yy_comment_close(yy)) goto l559;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l559;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_comment, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "comment", yy->__buf+yy->__pos));
  return 1;
  l559:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "comment", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_noinclude(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "noinclude"));
  {  int yypos564= yy->__pos, yythunkpos564= yy->__thunkpos;  if (!yy_noinclude_open(yy)) goto l565;  goto l564;
  l565:;	  yy->__pos= yypos564; yy->__thunkpos= yythunkpos564;  if (!yy_noinclude_close(yy)) goto l563;
  }
  l564:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "noinclude", yy->__buf+yy->__pos));
  return 1;
  l563:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "noinclude", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_nowiki(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "nowiki"));  if (!yy_nowiki_open(yy)) goto l566;  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_BEGIN)) goto l566;
#undef yytext
#undef yyleng
  }
  l567:;	
  {  int yypos568= yy->__pos, yythunkpos568= yy->__thunkpos;
  {  int yypos569= yy->__pos, yythunkpos569= yy->__thunkpos;  if (!yy_nowiki_close(yy)) goto l569;  goto l568;
  l569:;	  yy->__pos= yypos569; yy->__thunkpos= yythunkpos569;
  }  if (!yymatchDot(yy)) goto l568;  goto l567;
  l568:;	  yy->__pos= yypos568; yy->__thunkpos= yythunkpos568;
  }  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!(YY_END)) goto l566;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_nowiki, yy->__begin, yy->__end);  if (!yy_nowiki_close(yy)) goto l566;
  yyprintf((stderr, "  ok   %s @ %s\n", "nowiki", yy->__buf+yy->__pos));
  return 1;
  l566:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "nowiki", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_horizontal_line(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "horizontal_line"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!( start_of_line )) goto l570;
#undef yytext
#undef yyleng
  }  if (!yymatchString(yy, "----")) goto l570;
  l571:;	
  {  int yypos572= yy->__pos, yythunkpos572= yy->__thunkpos;  if (!yymatchChar(yy, '-')) goto l572;  goto l571;
  l572:;	  yy->__pos= yypos572; yy->__thunkpos= yythunkpos572;
  }  yyDo(yy, yy_1_horizontal_line, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "horizontal_line", yy->__buf+yy->__pos));
  return 1;
  l570:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "horizontal_line", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_paragraph(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "paragraph"));  if (!yy_wikitext(yy)) goto l573;  if (!yy_eol(yy)) goto l573;  if (!yy_eol(yy)) goto l573;
  l574:;	
  {  int yypos575= yy->__pos, yythunkpos575= yy->__thunkpos;  if (!yy_eol(yy)) goto l575;  goto l574;
  l575:;	  yy->__pos= yypos575; yy->__thunkpos= yythunkpos575;
  }  yyDo(yy, yy_1_paragraph, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "paragraph", yy->__buf+yy->__pos));
  return 1;
  l573:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "paragraph", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_wikitext(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "wikitext"));
  {  int yypos577= yy->__pos, yythunkpos577= yy->__thunkpos;  if (!yy_nowiki(yy)) goto l578;  goto l577;
  l578:;	  yy->__pos= yypos577; yy->__thunkpos= yythunkpos577;  if (!yy_noinclude(yy)) goto l579;  goto l577;
  l579:;	  yy->__pos= yypos577; yy->__thunkpos= yythunkpos577;  if (!yy_comment(yy)) goto l580;  goto l577;
  l580:;	  yy->__pos= yypos577; yy->__thunkpos= yythunkpos577;  if (!yy_html(yy)) goto l581;  goto l577;
  l581:;	  yy->__pos= yypos577; yy->__thunkpos= yythunkpos577;  if (!yy_table_of_contents(yy)) goto l582;  goto l577;
  l582:;	  yy->__pos= yypos577; yy->__thunkpos= yythunkpos577;  if (!yy_template_variable(yy)) goto l583;  goto l577;
  l583:;	  yy->__pos= yypos577; yy->__thunkpos= yythunkpos577;  if (!yy_template(yy)) goto l584;  goto l577;
  l584:;	  yy->__pos= yypos577; yy->__thunkpos= yythunkpos577;  if (!yy_heading(yy)) goto l585;  goto l577;
  l585:;	  yy->__pos= yypos577; yy->__thunkpos= yythunkpos577;  if (!yy_list(yy)) goto l586;  goto l577;
  l586:;	  yy->__pos= yypos577; yy->__thunkpos= yythunkpos577;  if (!yy_formatting(yy)) goto l587;  goto l577;
  l587:;	  yy->__pos= yypos577; yy->__thunkpos= yythunkpos577;  if (!yy_image(yy)) goto l588;  goto l577;
  l588:;	  yy->__pos= yypos577; yy->__thunkpos= yythunkpos577;  if (!yy_link(yy)) goto l589;  goto l577;
  l589:;	  yy->__pos= yypos577; yy->__thunkpos= yythunkpos577;  if (!yy_table(yy)) goto l590;  goto l577;
  l590:;	  yy->__pos= yypos577; yy->__thunkpos= yythunkpos577;  if (!yy_angle_brackets(yy)) goto l591;  goto l577;
  l591:;	  yy->__pos= yypos577; yy->__thunkpos= yythunkpos577;  if (!yy_anything_else(yy)) goto l592;  goto l577;
  l592:;	  yy->__pos= yypos577; yy->__thunkpos= yythunkpos577;  if (!yy_eol(yy)) goto l576;  yyDo(yy, yy_1_wikitext, yy->__begin, yy->__end);
  }
  l577:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "wikitext", yy->__buf+yy->__pos));
  return 1;
  l576:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "wikitext", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_wikitext_line(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "wikitext_line"));
  {  int yypos594= yy->__pos, yythunkpos594= yy->__thunkpos;  if (!yy_paragraph(yy)) goto l595;  goto l594;
  l595:;	  yy->__pos= yypos594; yy->__thunkpos= yythunkpos594;  if (!yy_horizontal_line(yy)) goto l593;
  }
  l594:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "wikitext_line", yy->__buf+yy->__pos));
  return 1;
  l593:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "wikitext_line", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_pre_block(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "pre_block"));  yyText(yy, yy->__begin, yy->__end);  {
#define yytext yy->__text
#define yyleng yy->__textlen
if (!( start_of_line )) goto l596;
#undef yytext
#undef yyleng
  }  yyDo(yy, yy_1_pre_block, yy->__begin, yy->__end);  if (!yy_pre_line(yy)) goto l596;
  l597:;	
  {  int yypos598= yy->__pos, yythunkpos598= yy->__thunkpos;  if (!yy_pre_line(yy)) goto l598;  goto l597;
  l598:;	  yy->__pos= yypos598; yy->__thunkpos= yythunkpos598;
  }  yyDo(yy, yy_2_pre_block, yy->__begin, yy->__end);
  yyprintf((stderr, "  ok   %s @ %s\n", "pre_block", yy->__buf+yy->__pos));
  return 1;
  l596:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "pre_block", yy->__buf+yy->__pos));
  return 0;
}
YY_RULE(int) yy_page(yycontext *yy)
{  int yypos0= yy->__pos, yythunkpos0= yy->__thunkpos;
  yyprintf((stderr, "%s\n", "page"));
  {  int yypos600= yy->__pos, yythunkpos600= yy->__thunkpos;  if (!yy_pre_block(yy)) goto l601;  goto l600;
  l601:;	  yy->__pos= yypos600; yy->__thunkpos= yythunkpos600;  if (!yy_wikitext_line(yy)) goto l602;  goto l600;
  l602:;	  yy->__pos= yypos600; yy->__thunkpos= yythunkpos600;  if (!yy_wikitext(yy)) goto l599;
  }
  l600:;	
  yyprintf((stderr, "  ok   %s @ %s\n", "page", yy->__buf+yy->__pos));
  return 1;
  l599:;	  yy->__pos= yypos0; yy->__thunkpos= yythunkpos0;
  yyprintf((stderr, "  fail %s @ %s\n", "page", yy->__buf+yy->__pos));
  return 0;
}

#ifndef YY_PART

typedef int (*yyrule)(yycontext *yy);

YY_PARSE(int) YYPARSEFROM(YY_CTX_PARAM_ yyrule yystart)
{
  int yyok;
  if (!yyctx->__buflen)
    {
      yyctx->__buflen= YY_BUFFER_SIZE;
      yyctx->__buf= (char *)YY_MALLOC(yyctx, yyctx->__buflen);
      yyctx->__textlen= YY_BUFFER_SIZE;
      yyctx->__text= (char *)YY_MALLOC(yyctx, yyctx->__textlen);
      yyctx->__thunkslen= YY_STACK_SIZE;
      yyctx->__thunks= (yythunk *)YY_MALLOC(yyctx, sizeof(yythunk) * yyctx->__thunkslen);
      yyctx->__valslen= YY_STACK_SIZE;
      yyctx->__vals= (YYSTYPE *)YY_MALLOC(yyctx, sizeof(YYSTYPE) * yyctx->__valslen);
      yyctx->__begin= yyctx->__end= yyctx->__pos= yyctx->__limit= yyctx->__thunkpos= 0;
    }
  yyctx->__begin= yyctx->__end= yyctx->__pos;
  yyctx->__thunkpos= 0;
  yyctx->__val= yyctx->__vals;
  yyok= yystart(yyctx);
  if (yyok) yyDone(yyctx);
  yyCommit(yyctx);
  return yyok;
}

YY_PARSE(int) YYPARSE(YY_CTX_PARAM)
{
  return YYPARSEFROM(YY_CTX_ARG_ yy_page);
}

YY_PARSE(yycontext *) YYRELEASE(yycontext *yyctx)
{
  if (yyctx->__buflen)
    {
      yyctx->__buflen= 0;
      YY_FREE(yyctx, yyctx->__buf);
      YY_FREE(yyctx, yyctx->__text);
      YY_FREE(yyctx, yyctx->__thunks);
      YY_FREE(yyctx, yyctx->__vals);
    }
  return yyctx;
}

#endif
#line 232 "src/syntax.leg"


// These have to be here to get access to the yy** vars

void init(void) {
  current_header_level = 0;
  start_of_line = 1;
  image_attributes = 0;
  toc_attributes = 0;
  in_tag = 0;
  input_buffer_pos = 0;
  template_list_iter = NULL;
  tr_found = 0;

  current_header_level = 0;
  current_bullet_list_level = 0;
  current_numbered_list_level = 0;
  current_definition_list_level = 0;

  kw_list_init(&toc_list);
  kw_list_init(&tag_attributes_list);
  kw_list_init(&template_list);
  tag_content = bfromcstr("");
  balloc(tag_content, tag_content_size);

  image_variables = bfromcstr("");
  image_url = bfromcstr("");
  image_link_url = bfromcstr("");
  image_caption = bfromcstr("");
  image_size = bfromcstr("");

  link_path = bfromcstr("");
  link_text = bfromcstr("");

  output_buffer = bfromcstr("");
  input_buffer = bfromcstr("");
  balloc(output_buffer, 1 * MBYTE);

  base_url = bfromcstr("");
  image_base_url = bfromcstr("");

  tag_name = bfromcstr("");
  tag_attribute = bfromcstr("");
  tag_attributes_validated = bfromcstr("");
  kw_stack_init(&tag_stack);
}

void cleanup(void) {
  // These are already NULL safe
  bdestroy(tag_content);
  bdestroy(image_variables);
  bdestroy(image_url);
  bdestroy(image_link_url);
  bdestroy(image_caption);
  bdestroy(image_size);
  bdestroy(link_path);
  bdestroy(link_text);
  bdestroy(output_buffer);
  bdestroy(input_buffer);
  bdestroy(base_url);
  bdestroy(image_base_url);
  bdestroy(tag_name);
  bdestroy(tag_attribute);
  bdestroy(tag_attributes_validated);

  kw_stack_free(&tag_stack);

  // Safe because we statically allocated the list structures
  kw_list_free(&toc_list);
  kw_list_free(&tag_attributes_list);
  kw_list_free(&template_list);

  // Clean up after leg...
  if(yyctx->__buf) free(yyctx->__buf);
  if(yyctx->__text) free(yyctx->__text);
  if(yyctx->__thunks) free(yyctx->__thunks);
  if(yyctx->__vals) free(yyctx->__vals);

  yyctx->__buflen = 0;
}

